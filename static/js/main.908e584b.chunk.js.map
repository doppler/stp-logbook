{"version":3,"sources":["DB.js","utils/createTestData.js","utils/initializeDatabase.js","components/Header.js","components/Footer.js","components/Home.js","components/students/api/getJumps.js","components/students/api/getStudents.js","components/students/List.js","components/students/api/getStudent.js","components/students/api/saveStudent.js","components/students/api/saveJump.js","utils/flash.js","components/students/Show.js","components/instructors/api/getInstructors.js","utils/formatPhoneNumber.js","utils/removeErrorClass.js","components/students/Edit.js","components/students/PhraseCloud.js","components/aircraft/api/getAircraft.js","components/students/Jump.js","components/students/StudentRouter.js","components/instructors/List.js","components/instructors/api/getInstructor.js","components/instructors/api/saveInstructor.js","components/instructors/Edit.js","components/instructors/InstructorRouter.js","components/aircraft/List.js","components/aircraft/api/getSingleAircraft.js","components/aircraft/api/saveAircraft.js","components/aircraft/Edit.js","components/aircraft/AircraftRouter.js","App.js","serviceWorker.js","index.js","components/students/api/validateStudent.js","components/students/api/validateJump.js","components/instructors/api/validateInstructor.js","components/aircraft/api/validateAircraft.js","utils/handleFormError.js"],"names":["PouchDB","plugin","PouchdbFind","aircraft","instructors","students","DB","auto_compaction","randomId","Math","round","random","toString","createFakeAircraft","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","_id","type","name","tailNumber","abrupt","stop","this","apply","arguments","createFakeInstructors","_ref2","_callee2","_context2","Array","from","map","i","concat","faker","firstName","lastName","email","internet","phone","phoneNumberFormat","randomDate","start","end","Date","getTime","createFakeStudent","student","instructor","length","previousJumps","floor","jumps","_ref3","studentId","startDate","endDate","availableDates","eachDay","numberOfJumps","lastDate","_","jumpDate","jump","number","diveFlow","date","format","exitAltitude","deploymentAltitude","exit","lorem","sentences","freefall","canopy","notes","freefallTime","ceil","bulkDocs","then","result","console","debug","createFakeJumps","createFakeStudents","_ref4","_callee3","_context3","createTestData","_ref5","_callee4","_context4","group","sent","groupEnd","index","fields","initializeDatabase","res","createIndex","find","selector","docs","Flash","messageList","message","react_default","createElement","o","key","className","Button","props","id","onClick","store","deleteConfirmation","children","Header","buttons","_store$flash","flash","button","Header_Button","assign","style","overflow","Header_Flash","Footer","aircraftCount","instructorCount","studentCount","collect","history","handleCreateTestData","testData","log","headerButtons","push","Fragment","src_components_Header","es","keyName","onKeyDown","e","handle","document","getElementById","match","click","destroy","getJumps","allDocs","keys","include_docs","rows","row","doc","_x","getStudents","Promise","all","filteredStudents","filter","activeJumpRow","json","sort","b","lastJumpA","toConsumableArray","pop","lastJumpB","parse","rowCount","activeStudentRow","srcElement","undefined","includes","onChange","target","value","toLowerCase","obj","placeholder","tabIndex","lastJump","daysSinceLastJump","differenceInDays","lastJumpStr","lastDfStr","join","handleStudentRowClick","backgroundColor","currencyColor","getStudent","get","saveStudent","validation","validateStudent","error","details","_rev","put","saveJump","validateJump","require","setTimeout","params","nextJump","objectSpread","Number","addJump","jumpRes","studentRes","success","onKeyUp","distanceInWordsToNow","getInstructors","formatPhoneNumber","newValue","test","replace","removeErrorClass","els","getElementsByClassName","classList","remove","initialState","pow","path","setAttribute","event","_event$target","querySelector","preventDefault","save","handleFormError","goBack","onSubmit","htmlFor","required","pattern","Edit_InstructorOptions","display","InstructorOptions","PhraseCloud","phraseCloudKey","string","handlePhraseClick","stopPropagation","selections","phraseCloudSelections","attributes","splice","indexOf","targetText","phraseCloud","hidePhraseCloud","getAttribute","toggle","contains","data-key","String","fromCharCode","charAt","toUpperCase","slice","PhraseCloud_SelectedPhrases","PhraseCloud_AvailablePhrases","SelectedPhrases","AvailablePhrases","getAircraft","jumpId","handleLabelClick","labelFor","for","_save","reallyDeleteJump","_ref6","_callee6","deleteRes","_context6","_callee5","_context5","_deleted","deleteJumpButton","focus","add","disabled","Jump_InstructorOptions","Jump_AircraftOptions","selectedAircraft","Jump_ExitAltitudeOptions","Jump_DeploymentAltitudeOptions","components_students_PhraseCloud","_ref8","AircraftOptions","_ref9","ExitAltitudeOptions","altitudes","x","reverse","DeploymentAltitudeOptions","Switch","Route","exact","component","List","Jump","Edit","Show","activeRow","handleRowClick","getInstructor","saveInstructor","validateInstructor","reallyDeleteInstructor","activeAircraftRow","currentAircraft","getSingleAircraft","saveAircraft","ac","validateAircraft","reallyDeleteAircraft","App","Home","StudentRouter","InstructorRouter","AircraftRouter","Component","Boolean","window","location","hostname","ReactDOM","render","BrowserRouter","basename","src_App_0","navigator","serviceWorker","ready","registration","unregister","Joi","schema","object","alphanum","integer","min","array","module","exports","validate","abortEarly","boolean","iso","errors","context","querySelectorAll","item"],"mappings":"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","file":"static/js/main.908e584b.chunk.js","sourcesContent":["import PouchDB from \"pouchdb\";\nimport PouchdbFind from \"pouchdb-find\";\nPouchDB.plugin(PouchdbFind);\n\nconst DB = new PouchDB(\"stp-logbook\", { auto_compaction: true });\n\nexport default DB;\n","import DB from \"../DB\";\nimport faker from \"faker\";\nimport eachDay from \"date-fns/each_day\";\nimport format from \"date-fns/format\";\n\nconst randomId = () => Math.round(Math.random() * 1000000000).toString(16);\n\nlet aircraft, instructors, students;\n\nconst createFakeAircraft = async () => {\n  aircraft = [\n    {\n      _id: randomId(),\n      type: \"aircraft\",\n      name: \"Caravan-FL\",\n      tailNumber: \"N123FL\"\n    },\n    {\n      _id: randomId(),\n      type: \"aircraft\",\n      name: \"Caravan-DZ\",\n      tailNumber: \"N420DZ\"\n    },\n    {\n      _id: randomId(),\n      type: \"aircraft\",\n      name: \"Otter-BA\",\n      tailNumber: \"N832BA\"\n    },\n    {\n      _id: randomId(),\n      type: \"aircraft\",\n      name: \"King Air-XZ\",\n      tailNumber: \"N123XZ\"\n    }\n  ];\n  return aircraft;\n};\n\nconst createFakeInstructors = async () => {\n  instructors = Array.from(Array(5)).map(i => {\n    return {\n      _id: randomId(),\n      type: \"instructor\",\n      name: `${faker.name.firstName()} ${faker.name.lastName()}`,\n      email: faker.internet.email(),\n      phone: faker.phone.phoneNumberFormat()\n    };\n  });\n  return instructors;\n};\n\nconst randomDate = (start, end) =>\n  new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime()));\n\nconst createFakeJumps = ({ previousJumps, studentId }) => {\n  const startDate = randomDate(new Date(2018, 0, 1), new Date());\n  const endDate = randomDate(startDate, new Date());\n  const availableDates = eachDay(startDate, endDate);\n  const numberOfJumps = Math.round(Math.random() * 18);\n  let lastDate = availableDates[0];\n  const jumps = Array.from(Array(numberOfJumps)).map((_, i) => {\n    const jumpDate = randomDate(lastDate, endDate);\n    lastDate = jumpDate;\n    const jump = {\n      _id: randomId(),\n      type: \"jump\",\n      studentId: studentId,\n      number: previousJumps + i,\n      diveFlow: i + 1,\n      date: format(jumpDate),\n      instructor:\n        instructors[Math.round(Math.random() * (instructors.length - 1))].name,\n      aircraft:\n        aircraft[Math.round(Math.random() * (aircraft.length - 1))].name,\n      exitAltitude: 10000 + Math.round(Math.random() * 10) * 500,\n      deploymentAltitude: [3500, 4000, 4500, 5000, 5500, 6000][\n        Math.round(Math.random() * 6)\n      ],\n      exit: faker.lorem.sentences(),\n      freefall: faker.lorem.sentences(),\n      canopy: faker.lorem.sentences(),\n      notes: faker.lorem.sentences()\n    };\n    jump.freefallTime = Math.ceil(\n      ((jump.exitAltitude - jump.deploymentAltitude) / 1000) * 5.5\n    );\n    return jump;\n  });\n  DB.bulkDocs(jumps).then(result => console.debug(result));\n  return jumps;\n};\n\nconst createFakeStudent = () => {\n  const student = {\n    _id: randomId(),\n    type: \"student\",\n    name: `${faker.name.firstName()} ${faker.name.lastName()}`,\n    email: faker.internet.email(),\n    phone: faker.phone.phoneNumberFormat(),\n    instructor:\n      instructors[Math.round(Math.random() * (instructors.length - 1))].name,\n    previousJumps: Math.floor(Math.random() * 3) + 2,\n    jumps: []\n  };\n  student.jumps = createFakeJumps({\n    previousJumps: student.previousJumps,\n    studentId: student._id\n  }).map(jump => jump._id);\n  return student;\n};\n\nconst createFakeStudents = async () => {\n  students = Array.from(Array(50)).map(i => {\n    return createFakeStudent();\n  });\n  return students;\n};\n\nconst createTestData = async () => {\n  console.group(\"createTestData\");\n  aircraft = await createFakeAircraft();\n  DB.bulkDocs(aircraft).then(result => console.debug(result));\n\n  instructors = await createFakeInstructors();\n  DB.bulkDocs(instructors).then(result => console.debug(result));\n\n  students = await createFakeStudents();\n  DB.bulkDocs(students).then(result => console.debug(result));\n\n  console.groupEnd(\"createTestData\");\n\n  return { aircraft, instructors, students };\n};\n\nexport default createTestData;\n","import DB from \"../DB\";\nimport createTestData from \"./createTestData\";\n\nconst index = { fields: [\"type\", \"studentId\"] };\nconst initializeDatabase = async () => {\n  console.group(\"initializeDatabase\");\n  console.debug(DB);\n  let res = await DB.createIndex({ index });\n  console.debug(\"Creating index:\", index, res.result);\n\n  return await DB.find({ selector: { type: \"student\" } }).then(res => {\n    if (res.docs.length === 0) {\n      return createTestData();\n    }\n    console.groupEnd(\"initializeDatabase\");\n  });\n};\n\nexport default initializeDatabase;\n","import React from \"react\";\nimport { store } from \"react-recollect\";\n\nimport \"./Header.css\";\n\nconst Flash = ({ type, message }) => {\n  let messageList;\n  if (typeof message === \"object\") {\n    messageList = (\n      <ul>\n        {message.map((o, i) => (\n          <li key={i}>{o.message}</li>\n        ))}\n      </ul>\n    );\n  }\n  return <div className={`flash ${type}`}>{messageList || message}</div>;\n};\n\nconst Button = props => (\n  <button\n    id={props.id}\n    onClick={props.onClick}\n    className={\n      props.id === \"d\" && store.deleteConfirmation\n        ? \"header-button warning\"\n        : \"header-button\"\n    }\n  >\n    {props.children}\n  </button>\n);\n\nconst Header = ({ buttons }) => {\n  const { type, message } = store.flash;\n\n  return (\n    <div className=\"Header\">\n      <div className=\"Nav\">\n        {buttons.map((button, i) => {\n          const { children } = button;\n          return (\n            <Button key={i} {...button}>\n              {children}\n            </Button>\n          );\n        })}\n      </div>\n      <div className=\"Actions\" style={{ overflow: \"scroll\" }}>\n        <Flash type={type} message={message} />\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\n\nexport default props => {\n  const { buttons } = props;\n  return (\n    <div className=\"Footer\">\n      <div className=\"Nav\">{buttons}</div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport HotKeys from \"react-hot-keys\";\nimport { store, collect } from \"react-recollect\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport \"./Home.css\";\n\nimport createTestData from \"../utils/createTestData\";\n\nimport DB from \"../DB\";\n\nstore.deleteConfirmation = false;\n\nDB.find({ selector: { type: \"aircraft\" } })\n  .then(res => res.docs)\n  .then(docs => (store.aircraftCount = docs.length));\n\nDB.find({ selector: { type: \"instructor\" } })\n  .then(res => res.docs)\n  .then(docs => (store.instructorCount = docs.length));\n\nDB.find({ selector: { type: \"student\" } })\n  .then(res => res.docs)\n  .then(docs => (store.studentCount = docs.length));\n\nconst Home = ({ history }) => {\n  const handleCreateTestData = async () => {\n    if (store.deleteConfirmation) {\n      const testData = await createTestData();\n      console.log(testData);\n      store.aircraftCount = testData.aircraft.length;\n      store.instructorCount = testData.instructors.length;\n      store.studentCount = testData.students.length;\n      store.deleteConfirmation = false;\n      return null;\n    }\n    store.deleteConfirmation = true;\n  };\n\n  const handleDeleteTestData = () => {\n    if (store.deleteConfirmation) {\n      DB.destroy().then(result => console.log(\"Deleted 'stp-logbook'\", result));\n      store.aircraftCount = 0;\n      store.instructorCount = 0;\n      store.studentCount = 0;\n      store.deleteConfirmation = false;\n      return null;\n    }\n\n    store.deleteConfirmation = true;\n    return null;\n  };\n\n  const onKeyDown = (keyName, e, handle) => {\n    switch (true) {\n      default:\n        document.getElementById(keyName.match(/.$/)).click();\n        break;\n    }\n  };\n\n  if (store.headerButtons.length === 0)\n    store.headerButtons = [\n      {\n        id: \"s\",\n        onClick: () => history.push(\"/students\"),\n        children: \"Students\"\n      },\n      {\n        id: \"i\",\n        onClick: () => history.push(\"/instructors\"),\n        children: \"Instructors\"\n      },\n      {\n        id: \"a\",\n        onClick: () => history.push(\"/aircraft\"),\n        children: \"Aircraft\"\n      }\n    ];\n\n  return (\n    <React.Fragment>\n      <Header buttons={store.headerButtons} />\n      <HotKeys keyName=\"ctrl+s,ctrl+i,ctrl+a\" onKeyDown={onKeyDown}>\n        <div className=\"Home Content\">\n          <section>\n            <h1>\n              <strong>\n                <code>stp-logbook</code>\n              </strong>{\" \"}\n              is a work in progress.\n            </h1>\n            <p>\n              <strong>\n                <code>stp-logbook</code>\n              </strong>{\" \"}\n              will help skydive instructors log their students' jumps in an\n              efficient manner by providing clever shortcuts to typing common\n              log entry phrases.\n            </p>\n            <p>\n              With a quick glance, instructors can determine when students are\n              approaching uncurrency, when their last jump was, which dive flow\n              it was, and which instructor they were with.\n            </p>\n            <p>\n              <strong>\n                <code>stp-logbook</code>\n              </strong>{\" \"}\n              is largely navigable via keyboard shortcuts. Buttons which are\n              keyboard accessible have labels with the first letter highlighted.\n              To \"click\" the button, type{\" \"}\n              <strong>\n                <code>ctrl+[letter]</code>\n              </strong>\n              .\n            </p>\n            <p>\n              <strong>\n                <code>stp-logbook</code>\n              </strong>{\" \"}\n              is under active development since Tuesday, November 6th 2018, and\n              it's still got a long way to go.\n            </p>\n            <p>Planned features include:</p>\n            <ul>\n              <li>\n                <strong>\n                  <em>Phrase Cloud</em>\n                </strong>{\" \"}\n                log entry text creation. Rather than typing, select common log\n                entry phrases from a collection of common phrases.\n              </li>\n              <li>\n                <strong>Backend Integration</strong> will be needed for storing\n                and editing of videos as well as syncronization of data between\n                clients. Duh.\n              </li>\n              <li>\n                <strong>\n                  <em>Drag and Drop Video</em>\n                </strong>{\" \"}\n                management. Drag your student's video directly from your SD card\n                to the student's log entry.\n              </li>\n              <li>\n                <strong>\n                  <em>Video Trimming</em>\n                </strong>{\" \"}\n                capability. Trim the video to remove unwanted plane and\n                instructor canopy content.\n              </li>\n              <li>\n                <strong>\n                  <em>Printer Friendly Output</em>\n                </strong>{\" \"}\n                so the student has a record of their jumps.\n              </li>\n            </ul>\n          </section>\n          <section>\n            <details>\n              <summary>Fake Data For Testing</summary>\n              <div className=\"warning\">\n                <h3>Warning</h3>\n                <p>\n                  Using this feature will <strong>COMPLETELY</strong> overwrite\n                  any data you have created. The data is stored locally in your\n                  browser, so it's not the end of the world if you fuck it up,\n                  though. Just sayin'. That said, feel free to create some fake\n                  data!\n                </p>\n              </div>\n              <table>\n                <caption>Current Data</caption>\n                <thead>\n                  <tr>\n                    <th>Data Type</th>\n                    <th>Count</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr onClick={() => history.push(\"/aircraft\")}>\n                    <td>Aircraft</td>\n                    <td>{store.aircraftCount}</td>\n                  </tr>\n                  <tr onClick={() => history.push(\"/instructors\")}>\n                    <td>Instructors</td>\n                    <td>{store.instructorCount}</td>\n                  </tr>\n                  <tr onClick={() => history.push(\"/students\")}>\n                    <td>Students</td>\n                    <td>{store.studentCount}</td>\n                  </tr>\n                </tbody>\n              </table>\n              {store.studentCount === 0 ? (\n                <button\n                  className={store.deleteConfirmation ? \"warning\" : null}\n                  onClick={handleCreateTestData}\n                >\n                  Create Test Data\n                </button>\n              ) : (\n                <button\n                  className={store.deleteConfirmation ? \"warning\" : null}\n                  onClick={handleDeleteTestData}\n                >\n                  Delete Test Data\n                </button>\n              )}\n            </details>\n          </section>\n        </div>\n      </HotKeys>\n      <Footer />\n    </React.Fragment>\n  );\n};\n\nexport default collect(Home);\n","import DB from \"../../../DB\";\n\nconst getJumps = async student => {\n  const res = await DB.allDocs({ keys: student.jumps, include_docs: true });\n  console.debug(\"getJumps\", res);\n  return res.rows.map(row => row.doc);\n};\n\nexport default getJumps;\n","import DB from \"../../../DB\";\nimport getJumps from \"./getJumps\";\n\nconst getStudents = async () => {\n  const res = await DB.find({ selector: { type: \"student\" } });\n  const students = await Promise.all(\n    res.docs.map(async student => {\n      student.jumps = await getJumps(student);\n      return student;\n    })\n  );\n  return students;\n};\n\nexport default getStudents;\n","import React from \"react\";\nimport HotKeys from \"react-hot-keys\";\n\nimport { store, collect } from \"react-recollect\";\nimport parse from \"date-fns/parse\";\nimport format from \"date-fns/format\";\nimport differenceInDays from \"date-fns/difference_in_days\";\n\nimport getStudents from \"./api/getStudents\";\n\nconst List = ({ match, history }) => {\n  const { students, filteredStudents, filter } = store;\n  store.student = null;\n  store.activeJumpRow = -1;\n\n  if (students.length === 0) {\n    (async () => {\n      const json = await getStudents();\n      json.sort((a, b) => {\n        let lastJumpA = [...a.jumps].pop() || {\n          date: new Date(1971, 9, 25)\n        };\n        let lastJumpB = [...b.jumps].pop() || {\n          date: new Date(1971, 9, 25)\n        };\n        return parse(lastJumpB.date) - parse(lastJumpA.date);\n      });\n      store.students = json;\n      store.filteredStudents = json;\n    })();\n  }\n\n  const handleStudentRowClick = student => {\n    history.push(`/students/${student._id}`);\n  };\n\n  const handleFilterChange = e => {\n    const filter = e.target.value.toLowerCase();\n    store.filteredStudents = store.students.filter(obj =>\n      obj.name.toLowerCase().match(filter)\n    );\n    store.filter = e.target.value;\n  };\n\n  const currencyColor = daysSinceLastJump => {\n    if (daysSinceLastJump > 30) {\n      return `rgb(255, 0, 0)`;\n    }\n    if (daysSinceLastJump > 21) {\n      return `rgb(255, ${192 -\n        Math.floor((64 / 7) * (daysSinceLastJump - 21))}, 0)`;\n    }\n    if (daysSinceLastJump > 14) {\n      return `rgb(255, ${255 -\n        Math.floor((64 / 7) * (daysSinceLastJump - 14))}, 0)`;\n    }\n    return `rgb(${Math.floor((255 / 14) * daysSinceLastJump)}, 255, 0)`;\n  };\n\n  const onKeyDown = (keyName, e, handle) => {\n    if (e.srcElement.type === \"submit\" && keyName === \"enter\") {\n      return true;\n    }\n    if (e.srcElement.type !== undefined) return false;\n    switch (true) {\n      case [\"down\", \"j\"].includes(keyName):\n        store.activeStudentRow++;\n        break;\n      case [\"up\", \"k\"].includes(keyName):\n        store.activeStudentRow--;\n        break;\n      case [\"enter\", \"right\"].includes(keyName):\n        history.push(\n          `/students/${filteredStudents[store.activeStudentRow].id}`\n        );\n        break;\n      default:\n        document.getElementById(keyName.match(/.$/)).click();\n        break;\n    }\n  };\n\n  const rowCount = filteredStudents.length;\n  if (rowCount > 0 && store.activeStudentRow === rowCount)\n    store.activeStudentRow = 0;\n  if (rowCount > 0 && store.activeStudentRow === -1)\n    store.activeStudentRow = rowCount - 1;\n\n  if (store.headerButtons.length === 0)\n    store.headerButtons = [\n      {\n        id: \"h\",\n        onClick: () => history.push(\"/\"),\n        children: \"Home\"\n      },\n      {\n        id: \"a\",\n        onClick: () => history.push(\"/students/new\"),\n        children: \"Add Student\"\n      }\n    ];\n  return (\n    <HotKeys\n      keyName=\"down,j,up,k,enter,right,ctrl+h,ctrl+a\"\n      onKeyDown={onKeyDown}\n    >\n      <div className=\"Content\">\n        <table id=\"students\">\n          <caption>Students</caption>\n          <thead>\n            <tr>\n              <th>\n                {\" \"}\n                <input\n                  onChange={handleFilterChange}\n                  value={filter}\n                  placeholder=\"Filter by name\"\n                />\n              </th>\n              <th>Last Jump</th>\n              <th>Last DiveFlow</th>\n            </tr>\n          </thead>\n          <tbody tabIndex={0}>\n            {filteredStudents.map((student, i) => {\n              const lastJump = student.jumps[student.jumps.length - 1];\n              const daysSinceLastJump = lastJump\n                ? differenceInDays(new Date(), lastJump.date)\n                : 9999;\n              const lastJumpStr = lastJump\n                ? `${format(lastJump.date, \"ddd MMM Do\")}`\n                : null;\n              const lastDfStr = lastJump\n                ? `DF ${lastJump.diveFlow} - ${[\n                    ...lastJump.instructor.match(/(\\w+) ([A-Z])/)[0]\n                  ].join(\"\")}.`\n                : null;\n              return (\n                <tr\n                  key={i}\n                  onClick={() => handleStudentRowClick(student)}\n                  className={i === store.activeStudentRow ? \"active\" : \"\"}\n                >\n                  <td>{student.name}</td>\n                  <td>\n                    {lastJumpStr}\n                    <span\n                      className=\"currency-color\"\n                      style={{\n                        backgroundColor: `${currencyColor(daysSinceLastJump)}`\n                      }}\n                    />\n                  </td>\n                  <td>{lastDfStr}</td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n    </HotKeys>\n  );\n};\n\nexport default collect(List);\n","import DB from \"../../../DB\";\n\nconst getStudent = async _id => {\n  const student = await DB.get(_id);\n  console.debug(\"getStudent\", student);\n  return student;\n};\n\nexport default getStudent;\n","import DB from \"../../../DB\";\nimport validateStudent from \"./validateStudent\";\n\nconst saveStudent = async student => {\n  console.group(\"saveStudent\");\n  console.debug(student);\n  const validation = validateStudent(student);\n  if (validation.error) {\n    return { error: validation.error.details };\n  }\n\n  return DB.get(student._id).then(res => {\n    console.debug(\"get\", res);\n    student._rev = res._rev;\n    return DB.put(student).then(res => {\n      console.debug(\"put\", res);\n      console.groupEnd(\"saveStudent\");\n      return res;\n    });\n  });\n};\n\nexport default saveStudent;\n","import DB from \"../../../DB\";\nimport validateJump from \"./validateJump\";\n\nconst saveJump = async jump => {\n  console.group(\"saveJump\");\n  const validation = validateJump(jump);\n  if (validation.error) {\n    return { error: validation.error.details };\n  }\n  if (jump._rev) {\n    return DB.get(jump._id).then(res => {\n      console.debug(\"saveJump existing get\", res);\n      jump._rev = res._rev;\n      return DB.put(jump).then(res => {\n        console.debug(\"saveJump existing put\", res);\n        console.groupEnd(\"saveJump\");\n        return res;\n      });\n    });\n  } else {\n    return DB.put(jump).then(res => {\n      console.debug(\"saveJump new put\", res);\n      console.groupEnd(\"saveJump\");\n      return res;\n    });\n  }\n};\n\nexport default saveJump;\n","const { store } = require(\"react-recollect\");\n\nexport default flash => {\n  const type = Object.keys(flash)[0];\n  const message = flash[type];\n  store.flash = { type, message };\n  setTimeout(() => {\n    store.flash = { type: \"\", message: \"\" };\n  }, 10000);\n};\n","import React from \"react\";\nimport HotKeys from \"react-hot-keys\";\n\nimport \"./Show.css\";\n\nimport { store, collect } from \"react-recollect\";\nimport format from \"date-fns/format\";\nimport distanceInWordsToNow from \"date-fns/distance_in_words_to_now\";\n\nimport getStudent from \"./api/getStudent\";\nimport getJumps from \"./api/getJumps\";\nimport saveStudent from \"./api/saveStudent\";\nimport saveJump from \"./api/saveJump\";\nimport flash from \"../../utils/flash\";\n\nstore.activeJumpRow = -1;\n\nconst Show = ({ match, history }) => {\n  delete store.jump;\n  const { student, jumps } = store;\n\n  if (!student || student._id !== match.params.studentId)\n    (async () => (store.student = await getStudent(match.params.studentId)))();\n\n  if (!student) return null;\n\n  if (!jumps) {\n    (async () => (store.jumps = await getJumps(student)))();\n    return null;\n  }\n\n  const rowCount = student.jumps.length;\n\n  const nextJump = () => {\n    const lastJump = jumps[jumps.length - 1];\n    const { number, diveFlow, instructor, aircraft } = lastJump\n      ? { ...lastJump }\n      : {\n          number: Number(student.previousJumps),\n          diveFlow: 0,\n          instructor: student.instructor\n        };\n    return {\n      _id: Math.round(Math.random() * 1000000000).toString(16),\n      type: \"jump\",\n      studentId: student._id,\n      number: number + 1,\n      diveFlow: diveFlow + 1,\n      date: format(new Date()),\n      instructor,\n      aircraft,\n      exitAltitude: 14000,\n      deploymentAltitude: 5000,\n      freefallTime: 0\n    };\n  };\n\n  const addJump = async () => {\n    console.group(\"addJump\");\n    const jump = nextJump();\n    const jumpRes = await saveJump(jump);\n    if (jumpRes.error) return flash(jumpRes);\n    student.jumps.push(jump._id);\n    const studentRes = await saveStudent(student);\n    if (studentRes.error) return flash(studentRes);\n    flash({ success: `Saved jump ${jump._id}` });\n    store.activeJumpRow++;\n    delete store.jumps;\n    console.groupEnd(\"addJump\");\n    history.push(`/students/${student._id}/jump/${jump._id}`);\n  };\n\n  const onKeyUp = (keyName, e, handle) => {\n    if (e.srcElement.type === \"submit\" && keyName === \"enter\") {\n      return e.srcElement.click();\n    }\n    if (e.srcElement.type !== undefined) return false;\n    switch (true) {\n      case [\"down\", \"j\"].includes(keyName):\n        store.activeJumpRow++;\n        break;\n      case [\"up\", \"k\"].includes(keyName):\n        store.activeJumpRow--;\n        break;\n      case [\"enter\", \"right\"].includes(keyName):\n        history.push(\n          `/students/${student._id}/jump/${jumps[store.activeJumpRow]._id}`\n        );\n        break;\n      case keyName === \"left\":\n        history.push(\"/students\");\n        break;\n      default:\n        document.getElementById(keyName.match(/.$/)).click();\n        break;\n    }\n  };\n  if (rowCount > 0 && store.activeJumpRow === rowCount) store.activeJumpRow = 0;\n  if (rowCount > 0 && store.activeJumpRow === -1)\n    store.activeJumpRow = rowCount - 1;\n\n  if (store.headerButtons.length === 0)\n    store.headerButtons = [\n      // {\n      //   id: \"l\",\n      //   onClick: () => history.push(\"/students\"),\n      //   children: \"List Students\"\n      // },\n      { id: \"b\", onClick: () => history.push(\"/students\"), children: \"Back\" },\n      { id: \"a\", onClick: addJump, children: \"Add Jump\" },\n      {\n        id: \"e\",\n        onClick: () => history.push(`/students/${student._id}/edit`),\n        children: \"Edit Student\"\n      }\n    ];\n  return (\n    <HotKeys\n      keyName=\"down,j,up,k,enter,right,left,ctrl+l,ctrl+b,ctrl+a,ctrl+e\"\n      onKeyUp={onKeyUp}\n    >\n      <div className=\"Content\">\n        <div className=\"show student\">\n          <div>{student.name}</div>\n          <div>{student.email}</div>\n          <div>{student.phone}</div>\n        </div>\n        <table tabIndex={0}>\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>Jump #</th>\n              <th>Dive Flow</th>\n              <th>Date</th>\n              <th>Instructor</th>\n            </tr>\n          </thead>\n          <tbody>\n            {jumps.map((jump, i) => (\n              <tr\n                key={i}\n                onClick={() =>\n                  history.push(`/students/${student._id}/jump/${jump._id}`)\n                }\n                className={i === store.activeJumpRow ? \"active\" : \"\"}\n              >\n                <td>{jump._id}</td>\n                <td>{jump.number}</td>\n                <td>{jump.diveFlow}</td>\n                <td>\n                  {format(jump.date, \"MM/DD/YY\")} (\n                  {distanceInWordsToNow(jump.date)})\n                </td>\n                <td>{jump.instructor}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </HotKeys>\n  );\n};\n\nexport default collect(Show);\n","import DB from \"../../../DB\";\n\nconst getInstructors = async () => {\n  const res = await DB.find({ selector: { type: \"instructor\" } });\n  return res.docs;\n};\n\nexport default getInstructors;\n","const formatPhoneNumber = value => {\n  let newValue;\n  switch (true) {\n    case /^\\d{4}/.test(value):\n      newValue = value.replace(/^(\\d{3})(\\d{1})/, \"$1-$2\");\n      break;\n    case /^\\d{3}-\\d{4}/.test(value):\n      newValue = value.replace(/^(\\d{3}-\\d{3})(\\d{1})/, \"$1-$2\");\n      break;\n    default:\n      newValue = value;\n      break;\n  }\n  return newValue;\n};\n\nexport default formatPhoneNumber;\n","const removeErrorClass = () => {\n  const els = document.getElementsByClassName(\"formField error\");\n  while (els[0]) {\n    els[0].classList.remove(\"error\");\n  }\n};\n\nexport default removeErrorClass;\n","import React from \"react\";\nimport HotKeys from \"react-hot-keys\";\n\nimport { store, collect } from \"react-recollect\";\nimport getInstructors from \"../instructors/api/getInstructors\";\nimport getStudent from \"./api/getStudent\";\nimport formatPhoneNumber from \"../../utils/formatPhoneNumber\";\nimport save from \"./api/saveStudent\";\nimport flash from \"../../utils/flash\";\nimport handleFormError from \"../../utils/handleFormError\";\nimport removeErrorClass from \"../../utils/removeErrorClass\";\n\nconst initialState = {\n  id: Math.round(Math.random() * 2 ** 32).toString(16),\n  name: \"\",\n  email: \"\",\n  phone: \"\",\n  instructor: \"\",\n  previousJumps: 2,\n  jumps: []\n};\n\nconst Edit = ({ match, history }) => {\n  const { student, instructors } = store;\n\n  if (!student && match.path === \"/students/new\") store.student = initialState;\n\n  if (\n    match.path === \"/students/:studentId/edit\" &&\n    (!student || student._id !== match.params.studentId)\n  )\n    (async () => (store.student = await getStudent(match.params.studentId)))();\n\n  if (instructors.length === 0)\n    (async () => {\n      const instructors = await getInstructors();\n      store.instructors = instructors;\n    })();\n\n  const setAttribute = event => {\n    const { id, value } = event.target;\n    switch (id) {\n      case \"phone\":\n        student[id] = formatPhoneNumber(value);\n        break;\n      default:\n        student[id] = value;\n        break;\n    }\n  };\n\n  const saveStudent = async e => {\n    if (e) {\n      document.querySelector(\"input[type='submit']\").click();\n      e.preventDefault();\n    }\n    removeErrorClass();\n    const res = await save(student);\n    if (res.error) {\n      flash({ error: \"Please check form for errors.\" });\n      return handleFormError(res.error);\n    }\n    flash({ success: `Saved ${student.name}` });\n    history.push(`/students/${student._id}`);\n  };\n\n  if (!student || instructors.length === 0) return null;\n\n  const onKeyDown = (keyName, e, handle) => {\n    if (e.srcElement.type === \"submit\" && keyName === \"enter\") {\n      return e.srcElement.children[0].click();\n    }\n    switch (true) {\n      default:\n        document.getElementById(keyName.match(/.$/)).click();\n        break;\n    }\n  };\n\n  if (store.headerButtons.length === 0)\n    store.headerButtons = [\n      {\n        id: \"l\",\n        onClick: () => history.push(\"/students\"),\n        children: \"List Students\"\n      },\n      { id: \"b\", onClick: () => history.goBack(1), children: \"Back\" },\n      { id: \"s\", onClick: saveStudent, children: \"Save Student\" }\n    ];\n  return (\n    <HotKeys keyName=\"ctrl+l,ctrl+b,ctrl+s\" onKeyDown={onKeyDown}>\n      <div className=\"Content\">\n        <form onSubmit={saveStudent}>\n          <fieldset>\n            <legend>\n              Editing{\" \"}\n              {student.name ? student.name : `New Student (id:${student._id})`}\n            </legend>\n            <div className=\"input-group\">\n              <label htmlFor=\"name\">Name</label>\n              <input\n                id=\"name\"\n                onChange={setAttribute}\n                value={student.name}\n                placeholder=\"Full Name\"\n                className=\"formField required\"\n                required\n              />\n            </div>\n            <div className=\"input-group\">\n              <label htmlFor=\"email\">Email</label>\n              <input\n                id=\"email\"\n                onChange={setAttribute}\n                value={student.email}\n                type=\"email\"\n                placeholder=\"email@domain.com\"\n                className=\"formField required\"\n                required\n              />\n            </div>\n            <div className=\"input-group\">\n              <label htmlFor=\"phone\">Phone</label>\n              <input\n                id=\"phone\"\n                onChange={setAttribute}\n                value={student.phone}\n                type=\"tel\"\n                placeholder=\"123-456-7890\"\n                pattern=\"\\d{3}-\\d{3}-\\d{4}\"\n                className=\"formField required\"\n                required\n              />\n            </div>\n            <div className=\"input-group\">\n              <label htmlFor=\"instructor\">Instructor</label>\n              <select\n                id=\"instructor\"\n                value={student.instructor}\n                onChange={setAttribute}\n                className=\"formField required\"\n                required\n              >\n                <option value=\"\">Select Instructor</option>\n                <InstructorOptions instructors={instructors} />\n              </select>\n            </div>\n            {student.jumps.length === 0 ? (\n              <div className=\"input-group\">\n                <label htmlFor=\"previousJumps\">Previous Jumps</label>\n                <input\n                  type=\"number\"\n                  id=\"previousJumps\"\n                  onChange={setAttribute}\n                  value={student.previousJumps}\n                  className=\"formField required\"\n                  required\n                />\n              </div>\n            ) : null}\n          </fieldset>\n          <input type=\"submit\" style={{ display: \"none\" }} />\n        </form>\n      </div>\n    </HotKeys>\n  );\n};\n\nexport default collect(Edit);\n\nconst InstructorOptions = ({ instructors }) => {\n  return instructors.map((instructor, i) => (\n    <option key={i} value={instructor.name}>\n      {instructor.name}\n    </option>\n  ));\n};\n","import React from \"react\";\nimport HotKeys from \"react-hot-keys\";\nimport \"./PhraseCloud.css\";\n\nimport phraseCloud from \"./phrase-cloud.json\";\n\nconst capitalize = string => {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n};\n\nconst PhraseCloud = ({ setAttribute, store }) => {\n  if (!store.phraseCloudKey) return null;\n\n  const handlePhraseClick = e => {\n    if (e && e.stopPropagation) e.stopPropagation();\n    const selections = store.phraseCloudSelections[store.phraseCloudKey];\n    const keyName = e.target.attributes[\"data-key\"].value;\n    if (selections.includes(keyName)) {\n      selections.splice(selections.indexOf(keyName), 1);\n    } else {\n      selections.push(keyName);\n    }\n    const targetText = selections\n      .map(key => phraseCloud[store.phraseCloudKey][key])\n      .join(\" \");\n    setAttribute({ target: { id: store.phraseCloudKey, value: targetText } });\n  };\n\n  const hidePhraseCloud = e => {\n    if (e.target.getAttribute(\"class\") === \"outer\") {\n      document.querySelector(\"#PhraseCloud\").classList.toggle(\"hidden\");\n    }\n  };\n\n  const onKeyUp = (keyName, e, handle) => {\n    if (document.querySelector(\"#PhraseCloud\").classList.contains(\"hidden\"))\n      return null;\n    switch (true) {\n      case keyName === \"ctrl+enter\":\n        hidePhraseCloud();\n        break;\n      default:\n        handlePhraseClick({\n          target: { attributes: { \"data-key\": { value: keyName } } }\n        });\n        break;\n    }\n  };\n\n  return (\n    <HotKeys\n      onKeyUp={onKeyUp}\n      keyName={\n        Array.from(Array(26))\n          .map((_, i) => String.fromCharCode(i + 97))\n          .join(\",\") + \",ctrl+enter\"\n      }\n    >\n      <div\n        id=\"PhraseCloud\"\n        className={`outer hidden`}\n        onClick={hidePhraseCloud}\n      >\n        <div className=\"inner\" onClick={null}>\n          <h2>\n            {capitalize(store.phraseCloudKey)} Phrases{\" \"}\n            <small>\n              Click a phrase or press the label key to move to/from target area.\n              Click anywhere else or press [esc] to close.\n            </small>\n          </h2>\n          <ul id=\"target\">\n            <SelectedPhrases\n              handlePhraseClick={handlePhraseClick}\n              store={store}\n            />\n          </ul>\n          <ul id=\"source\">\n            <AvailablePhrases\n              handlePhraseClick={handlePhraseClick}\n              store={store}\n            />\n          </ul>\n        </div>\n      </div>\n    </HotKeys>\n  );\n};\n\nexport default PhraseCloud;\n\nconst SelectedPhrases = ({ handlePhraseClick, store }) => {\n  return store.phraseCloudSelections[store.phraseCloudKey].map(key => (\n    <li key={key} data-key={key} onClick={handlePhraseClick}>\n      {phraseCloud[store.phraseCloudKey][key]}\n    </li>\n  ));\n};\n\nconst AvailablePhrases = ({ handlePhraseClick, store }) => {\n  return Object.keys(phraseCloud[store.phraseCloudKey]).map(key => (\n    <li\n      key={key}\n      data-key={key}\n      onClick={handlePhraseClick}\n      className={\n        store.phraseCloudSelections[store.phraseCloudKey].includes(key)\n          ? \"selected\"\n          : null\n      }\n    >\n      {phraseCloud[store.phraseCloudKey][key]}\n    </li>\n  ));\n};\n","import DB from \"../../../DB\";\n\nconst getAircraft = async () => {\n  const res = await DB.find({ selector: { type: \"aircraft\" } });\n  return res.docs;\n};\n\nexport default getAircraft;\n","import React from \"react\";\nimport HotKeys from \"react-hot-keys\";\n\nimport \"./Jump.css\";\n\nimport PhraseCloud from \"./PhraseCloud\";\n\nimport { store, collect } from \"react-recollect\";\nimport format from \"date-fns/format\";\n\nimport getInstructors from \"../instructors/api/getInstructors\";\nimport getAircraft from \"../aircraft/api/getAircraft\";\nimport getStudent from \"./api/getStudent\";\nimport getJumps from \"./api/getJumps\";\nimport saveStudent from \"./api/saveStudent\";\nimport saveJump from \"./api/saveJump\";\nimport flash from \"../../utils/flash\";\nimport handleFormError from \"../../utils/handleFormError\";\nimport removeErrorClass from \"../../utils/removeErrorClass\";\n\nstore.phraseCloudKey = \"exit\";\nstore.phraseCloudSelections = { exit: [], freefall: [], canopy: [] };\n\nconst Jump = ({ match, history }) => {\n  const { student, jump, instructors, aircraft } = store;\n\n  if (!student || !jump) {\n    (async () => {\n      if (!student) store.student = await getStudent(match.params.studentId);\n      if (student && !jump) {\n        const jumps = await getJumps(store.student);\n        store.jump = jumps.find(jump => jump._id === match.params.jumpId);\n      }\n    })();\n    return null;\n  }\n\n  if (instructors.length === 0) {\n    (async () => {\n      store.instructors = await getInstructors();\n    })();\n    return null;\n  }\n\n  if (aircraft.length === 0) {\n    (async () => {\n      store.aircraft = await getAircraft();\n    })();\n    return null;\n  }\n\n  const setAttribute = event => {\n    let { id, value } = event.target;\n    const numericValues = [\n      \"diveFlow\",\n      \"jumpNumber\",\n      \"exitAltitude\",\n      \"deploymentAltitude\",\n      \"freefallTime\"\n    ];\n    if (numericValues.includes(id)) {\n      value = Number(value);\n    }\n    jump[id] = value;\n    jump.freefallTime = Math.ceil(\n      ((jump.exitAltitude - jump.deploymentAltitude) / 1000) * 5.5\n    );\n  };\n\n  const handleLabelClick = e => {\n    if (e.key && e.key.toLowerCase() !== \"enter\") return true;\n    const labelFor = e.target.attributes.for.value.replace(/-hidden$/, \"\");\n    store.phraseCloudKey = labelFor;\n    document.querySelector(\"#PhraseCloud\").classList.toggle(\"hidden\");\n    return true;\n  };\n\n  const _save = async e => {\n    removeErrorClass();\n    const res = await saveJump(jump);\n    if (res.error) {\n      flash({ error: \"Please check form for errors.\" });\n      return handleFormError(res.error);\n    }\n    flash({ success: `Saved ${jump._id}` });\n    delete store.jumps;\n    return res;\n  };\n\n  const reallyDeleteJump = async () => {\n    student.jumps.splice(student.jumps.indexOf(jump._id), 1);\n    (async () => {\n      const res = await saveStudent(student);\n      if (res.error) {\n        flash({ error: \"Please check form for errors.\" });\n        return handleFormError(res.error);\n      }\n      flash({ success: `Deleted jump ${jump._id}` });\n      history.push(`/students/${student._id}`);\n    })();\n    delete store.jumps;\n    jump._deleted = true;\n    const deleteRes = await _save();\n    delete store.jumps;\n    console.debug(\"reallyDeleteJump\", deleteRes);\n  };\n  const deleteJump = () => {\n    if (store.deleteConfirmation) return reallyDeleteJump();\n    store.deleteConfirmation = true;\n  };\n\n  const onKeyUp = (keyName, e, handle) => {\n    e.stopPropagation();\n    if (e.srcElement.type === \"submit\" && keyName === \"enter\") {\n      return e.srcElement.children[0].click();\n    }\n    switch (true) {\n      case keyName === \"ctrl+d\":\n        const deleteJumpButton = document.getElementById(\"d\");\n        deleteJumpButton.focus();\n        deleteJumpButton.click();\n        break;\n      case keyName === \"esc\":\n        document.querySelector(\"#PhraseCloud\").classList.add(\"hidden\");\n        break;\n      default:\n        document.getElementById(keyName.match(/.$/)).click();\n        break;\n    }\n    return false;\n  };\n\n  if (store.headerButtons.length === 0)\n    store.headerButtons = [\n      {\n        id: \"b\",\n        onClick: () => history.push(`/students/${student._id}`),\n        children: \"Back\"\n      },\n      { id: \"s\", onClick: _save, children: \"Save Jump\" },\n      {\n        id: \"d\",\n        onClick: deleteJump,\n        deleteConfirmation: store.deleteConfirmation,\n        children: \"Delete Jump\"\n      }\n    ];\n  return (\n    <React.Fragment>\n      <HotKeys keyName={\"ctrl+l,ctrl+b,ctrl+s,ctrl+d,esc\"} onKeyUp={onKeyUp}>\n        <div id=\"Jump\" className=\"Content\">\n          <form onSubmit={_save}>\n            <fieldset>\n              <legend>{`${student.name} Dive Flow ${jump.diveFlow}`}</legend>\n              <fieldset className=\"inner\">\n                <legend>Jump Details</legend>\n                <div className=\"jump-details\">\n                  <div>\n                    <div className=\"input-group\">\n                      <label htmlFor=\"diveFlow\">Dive Flow</label>\n                      <input\n                        type=\"number\"\n                        id=\"diveFlow\"\n                        value={jump.diveFlow}\n                        onChange={setAttribute}\n                        className=\"formField required\"\n                        required\n                      />\n                    </div>\n                    <div className=\"input-group\">\n                      <label htmlFor=\"number\">Jump Number</label>\n                      <input\n                        type=\"number\"\n                        id=\"number\"\n                        value={jump.number}\n                        className=\"formField required\"\n                        required\n                        disabled\n                      />\n                    </div>\n                    <div className=\"input-group\">\n                      <label htmlFor=\"date\">Date</label>\n                      <input\n                        type=\"date\"\n                        id=\"date\"\n                        value={format(jump.date, \"YYYY-MM-DD\")}\n                        onChange={setAttribute}\n                        className=\"formField required\"\n                        required\n                      />\n                    </div>\n                    <div className=\"input-group\">\n                      <label htmlFor=\"instructor\">Instructor</label>\n                      <select\n                        id=\"instructor\"\n                        value={jump.instructor}\n                        onChange={setAttribute}\n                        className=\"formField required\"\n                        required\n                      >\n                        <InstructorOptions\n                          instructors={instructors}\n                          instructor={jump.instructor}\n                        />\n                      </select>\n                    </div>\n                  </div>\n                  <div>\n                    <div className=\"input-group\">\n                      <label htmlFor=\"aircraft\">Aircraft</label>\n                      <select\n                        value={jump.aircraft}\n                        id=\"aircraft\"\n                        onChange={setAttribute}\n                        className=\"formField required\"\n                        required\n                      >\n                        <option value=\"\" />\n                        <AircraftOptions\n                          aircraft={aircraft}\n                          selectedAircraft={jump.aircraft}\n                        />\n                      </select>\n                    </div>\n                    <div className=\"input-group\">\n                      <label htmlFor=\"exitAltitude\">Exit Altitude</label>\n                      <select\n                        value={jump.exitAltitude}\n                        id=\"exitAltitude\"\n                        onChange={setAttribute}\n                        className=\"formField required\"\n                        required\n                      >\n                        <ExitAltitudeOptions />\n                      </select>\n                    </div>\n                    <div className=\"input-group\">\n                      <label htmlFor=\"deploymentAltitude\">Pull Altitude</label>\n                      <select\n                        value={jump.deploymentAltitude}\n                        id=\"deploymentAltitude\"\n                        onChange={setAttribute}\n                        className=\"formField required\"\n                        required\n                      >\n                        <DeploymentAltitudeOptions />\n                      </select>\n                    </div>\n                    <div className=\"input-group\">\n                      <label htmlFor=\"freefallTime\">Freefall Time</label>\n                      <input\n                        id=\"freefallTime\"\n                        value={`${jump.freefallTime} seconds`}\n                        onChange={setAttribute}\n                        className=\"formField required\"\n                        required\n                        disabled\n                      />\n                    </div>\n                  </div>\n                </div>\n              </fieldset>\n              <fieldset className=\"inner\">\n                <legend>Freefall / Canopy</legend>\n                <div className=\"input-group\">\n                  <label\n                    onClick={handleLabelClick}\n                    onKeyDown={handleLabelClick}\n                    tabIndex={0}\n                    htmlFor=\"exit\"\n                  >\n                    Exit\n                  </label>\n                  <textarea\n                    id=\"exit\"\n                    value={jump.exit}\n                    onChange={setAttribute}\n                    className=\"formField required\"\n                    required\n                  />\n                </div>\n                <div className=\"input-group\">\n                  <label\n                    onClick={handleLabelClick}\n                    onKeyDown={handleLabelClick}\n                    tabIndex={0}\n                    htmlFor=\"freefall\"\n                  >\n                    Freefall\n                  </label>\n                  <textarea\n                    id=\"freefall\"\n                    value={jump.freefall}\n                    onChange={setAttribute}\n                    className=\"formField required\"\n                    required\n                  />\n                </div>\n                <div className=\"input-group\">\n                  <label\n                    onClick={handleLabelClick}\n                    onKeyDown={handleLabelClick}\n                    tabIndex={0}\n                    htmlFor=\"canopy\"\n                  >\n                    Canopy\n                  </label>\n                  <textarea\n                    id=\"canopy\"\n                    value={jump.canopy}\n                    onChange={setAttribute}\n                    className=\"formField required\"\n                    required\n                  />\n                </div>\n                <div className=\"input-group\">\n                  <label htmlFor=\"notes\">Notes</label>\n                  <textarea\n                    id=\"notes\"\n                    value={jump.notes}\n                    onChange={setAttribute}\n                    className=\"formField\"\n                  />\n                </div>\n              </fieldset>\n              <input type=\"submit\" style={{ display: \"none\" }} tabIndex={-1} />\n            </fieldset>\n          </form>\n        </div>\n      </HotKeys>\n      <PhraseCloud setAttribute={setAttribute} store={store} />\n    </React.Fragment>\n  );\n};\n\nexport default collect(Jump);\n\nconst InstructorOptions = ({ instructors, instructor }) => {\n  if (instructors.map(i => i.name).indexOf(instructor) < 0)\n    instructors.push({ name: instructor });\n  return instructors.map((instructor, i) => (\n    <option key={i} value={instructor.name}>\n      {instructor.name}\n    </option>\n  ));\n};\n\nconst AircraftOptions = ({ aircraft, selectedAircraft }) => {\n  if (aircraft.map(a => a.name).indexOf(selectedAircraft) < 0)\n    aircraft.push({ name: selectedAircraft });\n  return aircraft.map((aircraft, i) => (\n    <option key={i} value={aircraft.name}>\n      {aircraft.name}\n    </option>\n  ));\n};\nconst ExitAltitudeOptions = () => {\n  const altitudes = [];\n  for (let x = 5000; x <= 17000; x += 500) {\n    altitudes.push(x);\n  }\n  return altitudes.reverse().map(x => (\n    <option key={x} value={x}>\n      {x.toString().replace(/(\\d{3}$)/, \",$1\")}\n    </option>\n  ));\n};\n\nconst DeploymentAltitudeOptions = () => {\n  const altitudes = [];\n  for (let x = 3000; x <= 17000; x += 500) {\n    altitudes.push(x);\n  }\n  return altitudes.reverse().map(x => (\n    <option key={x} value={x}>\n      {x.toString().replace(/(\\d{3}$)/, \",$1\")}\n    </option>\n  ));\n};\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n\nimport { store, collect } from \"react-recollect\";\n\nimport Header from \"../Header\";\nimport List from \"./List\";\nimport Show from \"./Show\";\nimport Edit from \"./Edit\";\nimport Jump from \"./Jump\";\nimport Footer from \"../Footer\";\n\nstore.student = null;\nstore.filteredStudents = [];\nstore.instructors = [];\nstore.aircraft = [];\nstore.activeStudentRow = 0;\n\nconst StudentRouter = props => {\n  const { headerButtons } = store;\n  store.students = [];\n  return (\n    <React.Fragment>\n      <Header buttons={headerButtons} />\n      <Switch>\n        <Route exact path=\"/students\" component={List} />\n        <Route path=\"/students/:studentId/jump/:jumpId\" component={Jump} />\n        <Route path=\"/students/:studentId/edit\" component={Edit} />\n        <Route path=\"/students/new\" component={Edit} />\n        <Route path=\"/students/:studentId\" component={Show} />\n      </Switch>\n      <Footer />\n    </React.Fragment>\n  );\n};\n\nexport default collect(StudentRouter);\n","import React from \"react\";\nimport HotKeys from \"react-hot-keys\";\nimport { store, collect } from \"react-recollect\";\nimport getInstructors from \"./api/getInstructors\";\n\nstore.filter = \"\";\nstore.activeRow = 0;\n\nconst List = ({ history }) => {\n  const { instructors } = store;\n  delete store.instructor;\n\n  if (!instructors || instructors.length === 0) {\n    (async () => {\n      const instructors = await getInstructors();\n      store.instructors = instructors;\n    })();\n    return null;\n  }\n\n  const handleRowClick = instructor => {\n    history.push(`/instructors/${instructor._id}`);\n  };\n\n  const addInstructor = () => {\n    history.push(\"/instructors/new\");\n  };\n\n  const onKeyDown = (keyName, e, handle) => {\n    if (e.srcElement.type === \"submit\" && keyName === \"enter\") {\n      return true;\n    }\n    if (e.srcElement.type !== undefined) return false;\n    switch (true) {\n      case [\"down\", \"j\"].includes(keyName):\n        store.activeRow++;\n        break;\n      case [\"up\", \"k\"].includes(keyName):\n        store.activeRow--;\n        break;\n      case [\"enter\", \"right\"].includes(keyName):\n        history.push(`/instructors/${instructors[store.activeRow]._id}`);\n        break;\n      default:\n        document.getElementById(keyName.match(/.$/)).click();\n        break;\n    }\n  };\n\n  const rowCount = instructors.length;\n  if (rowCount > 0 && store.activeRow === rowCount) store.activeRow = 0;\n  if (rowCount > 0 && store.activeRow === -1) store.activeRow = rowCount - 1;\n\n  if (store.headerButtons.length === 0)\n    store.headerButtons = [\n      { id: \"h\", onClick: () => history.push(\"/\"), children: \"Home\" },\n      { id: \"n\", onClick: addInstructor, children: \"New Instructor\" }\n    ];\n\n  return (\n    <HotKeys\n      keyName=\"down,j,up,k,enter,right,ctrl+h,ctrl+n\"\n      onKeyDown={onKeyDown}\n    >\n      <div className=\"Content\">\n        <table id=\"instructors\">\n          <caption>Instructors</caption>\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Email</th>\n              <th>Phone</th>\n            </tr>\n          </thead>\n          <tbody>\n            {instructors.map((instructor, i) => (\n              <tr\n                key={i}\n                className={i === store.activeRow ? \"active\" : \"\"}\n                onClick={() => handleRowClick(instructor)}\n              >\n                <td>{instructor.name}</td>\n                <td>{instructor.email}</td>\n                <td>{instructor.phone}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </HotKeys>\n  );\n};\n\nexport default collect(List);\n","import DB from \"../../../DB\";\n\nconst getInstructor = async _id => {\n  return await DB.get(_id);\n};\n\nexport default getInstructor;\n","import DB from \"../../../DB\";\nimport validateInstructor from \"./validateInstructor\";\n\nconst saveInstructor = async instructor => {\n  console.group(\"saveInstructor\");\n  console.debug(instructor);\n  const validation = validateInstructor(instructor);\n  if (validation.error) {\n    return { error: validation.error.details };\n  }\n\n  if (instructor._rev) {\n    return DB.get(instructor._id).then(res => {\n      console.debug(\"get\", res);\n      instructor._rev = res._rev;\n      return DB.put(instructor).then(res => {\n        console.debug(\"put\", res);\n        console.groupEnd(\"saveInstructor\");\n        return res;\n      });\n    });\n  } else {\n    return DB.put(instructor).then(res => {\n      console.debug(\"saveInstructor new put\", res);\n      console.groupEnd(\"saveInstructor\");\n      return res;\n    });\n  }\n};\n\nexport default saveInstructor;\n","import React from \"react\";\nimport HotKeys from \"react-hot-keys\";\nimport { store, collect } from \"react-recollect\";\n\nimport getInstructor from \"./api/getInstructor\";\nimport saveInstructor from \"./api/saveInstructor\";\nimport formatPhoneNumber from \"../../utils/formatPhoneNumber\";\nimport flash from \"../../utils/flash\";\nimport handleFormError from \"../../utils/handleFormError\";\nimport removeErrorClass from \"../../utils/removeErrorClass\";\n\nconst initialState = {\n  _id: Math.round(Math.random() * 2 ** 32).toString(16),\n  type: \"instructor\",\n  name: \"\",\n  email: \"\",\n  phone: \"\"\n};\n\nstore.instructor = null;\n\nconst Edit = ({ match, history }) => {\n  const { instructor } = store;\n\n  if (!instructor && match.path === \"/instructors/new\")\n    store.instructor = initialState;\n\n  if (\n    match.path === \"/instructors/:id\" &&\n    (!instructor || instructor._id !== match.params.id)\n  ) {\n    (async () => (store.instructor = await getInstructor(match.params.id)))();\n  }\n\n  if (!instructor) return false;\n\n  const save = async e => {\n    if (e) {\n      document.querySelector(\"input[type='submit']\").click();\n      e.preventDefault();\n    }\n    removeErrorClass();\n    const res = await saveInstructor(instructor);\n    if (res.error) {\n      flash({ error: \"Please check form for errors.\" });\n      return handleFormError(res.error);\n    }\n    flash({ success: `Saved ${instructor.name}` });\n    delete store.instructors;\n    history.push(\"/instructors\");\n  };\n\n  const reallyDeleteInstructor = async () => {\n    instructor._deleted = true;\n    const res = await saveInstructor(instructor);\n    if (res.error) return flash(res);\n    delete store.instructors;\n    flash({ success: `Deleted ${instructor.name}` });\n    history.push(\"/instructors\");\n  };\n\n  const deleteInstructor = () => {\n    if (store.deleteConfirmation) return reallyDeleteInstructor();\n    document.getElementById(\"d\").focus();\n    store.deleteConfirmation = true;\n  };\n\n  const setAttribute = event => {\n    const { id, value } = event.target;\n    switch (id) {\n      case \"phone\":\n        instructor[id] = formatPhoneNumber(value);\n        break;\n      default:\n        instructor[id] = value;\n        break;\n    }\n  };\n\n  const onKeyDown = (keyName, e, handle) => {\n    if (e.srcElement.type === \"submit\" && keyName === \"enter\") {\n      return e.srcElement.children[0].click();\n    }\n    switch (true) {\n      default:\n        document.getElementById(keyName.match(/.$/)).click();\n        break;\n    }\n  };\n\n  if (store.headerButtons.length === 0)\n    store.headerButtons = [\n      { id: \"b\", onClick: () => history.goBack(1), children: \"Back\" },\n      { id: \"s\", onClick: save, children: \"Save Instructor\" }\n    ];\n  if (match.params.id && !store.headerButtons.find(o => o.id === \"d\")) {\n    store.headerButtons.push({\n      id: \"d\",\n      onClick: deleteInstructor,\n      children: \"Delete Instructor\"\n    });\n  }\n  return (\n    <HotKeys keyName=\"ctrl+b,ctrl+s,ctrl+d\" onKeyDown={onKeyDown}>\n      <div className=\"Content\">\n        <form onSubmit={save}>\n          <fieldset>\n            <legend>\n              Editing{\" \"}\n              {instructor.name\n                ? instructor.name\n                : `New Instructor (id:${instructor._id})`}\n            </legend>\n            <div className=\"input-group\">\n              <label htmlFor=\"name\">Name</label>\n              <input\n                id=\"name\"\n                onChange={setAttribute}\n                value={instructor.name}\n                placeholder=\"Full Name\"\n                className=\"formField required\"\n                required\n              />\n            </div>\n            <div className=\"input-group\">\n              <label htmlFor=\"email\">Email</label>\n              <input\n                id=\"email\"\n                onChange={setAttribute}\n                value={instructor.email}\n                type=\"email\"\n                placeholder=\"email@domain.com\"\n                className=\"formField required\"\n                required\n              />\n            </div>\n            <div className=\"input-group\">\n              <label htmlFor=\"phone\">Phone</label>\n              <input\n                id=\"phone\"\n                onChange={setAttribute}\n                value={instructor.phone}\n                type=\"tel\"\n                placeholder=\"123-456-7890\"\n                pattern=\"\\d{3}-\\d{3}-\\d{4}\"\n                className=\"formField required\"\n                required\n              />\n            </div>\n          </fieldset>\n          <input type=\"submit\" style={{ display: \"none\" }} />\n        </form>\n      </div>\n    </HotKeys>\n  );\n};\n\nexport default collect(Edit);\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n\nimport { store, collect } from \"react-recollect\";\n\nimport Header from \"../Header\";\nimport List from \"./List\";\nimport Edit from \"./Edit\";\nimport Footer from \"../Footer\";\n\nconst InstructorRouter = props => {\n  const { headerButtons } = store;\n  return (\n    <React.Fragment>\n      <Header buttons={headerButtons} />\n      <Switch>\n        <Route exact path=\"/instructors\" component={List} />\n        <Route path=\"/instructors/new\" component={Edit} />\n        <Route path=\"/instructors/:id\" component={Edit} />\n      </Switch>\n      <Footer />\n    </React.Fragment>\n  );\n};\n\nexport default collect(InstructorRouter);\n","import React from \"react\";\nimport HotKeys from \"react-hot-keys\";\nimport { store, collect } from \"react-recollect\";\nimport getAircraft from \"./api/getAircraft\";\n\nstore.activeAircraftRow = 0;\n\nconst List = ({ history }) => {\n  const { aircraft } = store;\n  delete store.currentAircraft;\n\n  if (!aircraft || aircraft.length === 0) {\n    (async () => {\n      const aircraft = await getAircraft();\n      store.aircraft = aircraft;\n    })();\n    return null;\n  }\n\n  const handleRowClick = aircraft => {\n    history.push(`/aircraft/${aircraft._id}`);\n  };\n\n  const addAircraft = () => {\n    history.push(\"/aircraft/new\");\n  };\n\n  const onKeyDown = (keyName, e, handle) => {\n    if (e.srcElement.type === \"submit\" && keyName === \"enter\") {\n      return true;\n    }\n    if (e.srcElement.type !== undefined) return false;\n    switch (true) {\n      case [\"down\", \"j\"].includes(keyName):\n        store.activeAircraftRow++;\n        break;\n      case [\"up\", \"k\"].includes(keyName):\n        store.activeAircraftRow--;\n        break;\n      case [\"enter\", \"right\"].includes(keyName):\n        history.push(`/aircraft/${aircraft[store.activeAircraftRow].id}`);\n        break;\n      default:\n        document.getElementById(keyName.match(/.$/)).click();\n        break;\n    }\n  };\n\n  const rowCount = aircraft.length;\n  if (rowCount > 0 && store.activeAircraftRow === rowCount)\n    store.activeAircraftRow = 0;\n  if (rowCount > 0 && store.activeAircraftRow === -1)\n    store.activeAircraftRow = rowCount - 1;\n\n  if (store.headerButtons.length === 0)\n    store.headerButtons = [\n      { id: \"h\", onClick: () => history.push(\"/\"), children: \"Home\" },\n      { id: \"n\", onClick: addAircraft, children: \"New aircraft\" }\n    ];\n\n  return (\n    <HotKeys\n      keyName=\"down,j,up,k,enter,right,ctrl+h,ctrl+n\"\n      onKeyDown={onKeyDown}\n    >\n      <div className=\"Content\">\n        <table id=\"aircraft\">\n          <caption>Aircraft</caption>\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Tail #</th>\n            </tr>\n          </thead>\n          <tbody>\n            {aircraft.map((aircraft, i) => (\n              <tr\n                key={i}\n                className={i === store.activeAircraftRow ? \"active\" : \"\"}\n                onClick={() => handleRowClick(aircraft)}\n              >\n                <td>{aircraft.name}</td>\n                <td>{aircraft.tailNumber}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </HotKeys>\n  );\n};\n\nexport default collect(List);\n","import DB from \"../../../DB\";\n\nconst getSingleAircraft = async _id => {\n  return await DB.get(_id);\n};\n\nexport default getSingleAircraft;\n","import DB from \"../../../DB\";\nimport validateAircraft from \"./validateAircraft\";\n\nconst saveAircraft = async ac => {\n  console.group(\"saveAircraft\");\n  console.log(ac);\n  const validation = validateAircraft(ac);\n  if (validation.error) {\n    return { error: validation.error.details };\n  }\n\n  if (ac._rev) {\n    return DB.get(ac._id).then(res => {\n      console.debug(\"get\", res);\n      ac._rev = res._rev;\n      return DB.put(ac).then(res => {\n        console.debug(\"put\", res);\n        console.groupEnd(\"saveAircraft\");\n        return res;\n      });\n    });\n  } else {\n    return DB.put(ac).then(res => {\n      console.debug(\"saveAircraft new put\", res);\n      console.groupEnd(\"saveAircraft\");\n      return res;\n    });\n  }\n};\n\nexport default saveAircraft;\n","import React from \"react\";\nimport HotKeys from \"react-hot-keys\";\nimport { store, collect } from \"react-recollect\";\n\nimport getSingleAircraft from \"./api/getSingleAircraft\";\nimport saveAircraft from \"./api/saveAircraft\";\nimport flash from \"../../utils/flash\";\nimport handleFormError from \"../../utils/handleFormError\";\nimport removeErrorClass from \"../../utils/removeErrorClass\";\n\nconst initialState = {\n  _id: Math.round(Math.random() * 2 ** 32).toString(16),\n  type: \"aircraft\",\n  name: \"\",\n  tailNumber: \"\"\n};\n\nstore.currentAircraft = null;\n\nconst Edit = ({ match, history }) => {\n  const { currentAircraft } = store;\n\n  if (!currentAircraft && match.path === \"/aircraft/new\")\n    store.currentAircraft = initialState;\n\n  if (\n    match.path === \"/aircraft/:id\" &&\n    (!currentAircraft || currentAircraft._id !== match.params.id)\n  ) {\n    (async () =>\n      (store.currentAircraft = await getSingleAircraft(match.params.id)))();\n  }\n\n  if (!currentAircraft) return false;\n\n  const save = async e => {\n    if (e) {\n      document.querySelector(\"input[type='submit']\").click();\n      e.preventDefault();\n    }\n    removeErrorClass();\n    const res = await saveAircraft(currentAircraft);\n    if (res.error) {\n      flash({ error: \"Please check form for errors.\" });\n      return handleFormError(res.error);\n    }\n    flash({ success: `Saved ${currentAircraft.name}` });\n    delete store.aircraft;\n    history.push(\"/aircraft\");\n  };\n\n  const reallyDeleteAircraft = async () => {\n    currentAircraft._deleted = true;\n    const res = await saveAircraft(currentAircraft);\n    if (res.error) return flash(res);\n    delete store.aircraft;\n    flash({ success: `Deleted ${currentAircraft.name}` });\n    history.push(\"/aircraft\");\n  };\n\n  const deleteAircraft = () => {\n    if (store.deleteConfirmation) return reallyDeleteAircraft();\n    document.getElementById(\"d\").focus();\n    store.deleteConfirmation = true;\n  };\n\n  const setAttribute = event => {\n    const { id, value } = event.target;\n    switch (id) {\n      default:\n        currentAircraft[id] = value;\n        break;\n    }\n  };\n\n  const onKeyDown = (keyName, e, handle) => {\n    if (e.srcElement.type === \"submit\" && keyName === \"enter\") {\n      return e.srcElement.children[0].click();\n    }\n    switch (true) {\n      default:\n        document.getElementById(keyName.match(/.$/)).click();\n        break;\n    }\n  };\n\n  if (store.headerButtons.length === 0)\n    store.headerButtons = [\n      { id: \"b\", onClick: () => history.goBack(1), children: \"Back\" },\n      { id: \"s\", onClick: save, children: \"Save Aircraft\" }\n    ];\n  if (match.params.id && !store.headerButtons.find(o => o.id === \"d\")) {\n    store.headerButtons.push({\n      id: \"d\",\n      onClick: deleteAircraft,\n      children: \"Delete Aircraft\"\n    });\n  }\n  return (\n    <HotKeys keyName=\"ctrl+b,ctrl+s,ctrl+d\" onKeyDown={onKeyDown}>\n      <div className=\"Content\">\n        <form onSubmit={save}>\n          <fieldset>\n            <legend>\n              Editing{\" \"}\n              {currentAircraft.name\n                ? currentAircraft.name\n                : `New Aircraft (id:${currentAircraft._id})`}\n            </legend>\n            <div className=\"input-group\">\n              <label htmlFor=\"name\">Name</label>\n              <input\n                id=\"name\"\n                onChange={setAttribute}\n                value={currentAircraft.name}\n                placeholder=\"Full Name\"\n                className=\"formField required\"\n                required\n              />\n            </div>\n            <div className=\"input-group\">\n              <label htmlFor=\"email\">Tail Number</label>\n              <input\n                id=\"tailNumber\"\n                onChange={setAttribute}\n                value={currentAircraft.tailNumber}\n                placeholder=\"N 1234Z\"\n                className=\"formField required\"\n                required\n              />\n            </div>\n          </fieldset>\n          <input type=\"submit\" style={{ display: \"none\" }} />\n        </form>\n      </div>\n    </HotKeys>\n  );\n};\n\nexport default collect(Edit);\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n\nimport { store, collect } from \"react-recollect\";\n\nimport Header from \"../Header\";\nimport List from \"./List\";\nimport Edit from \"./Edit\";\nimport Footer from \"../Footer\";\n\nconst AircraftRouter = props => {\n  const { headerButtons } = store;\n  return (\n    <React.Fragment>\n      <Header buttons={headerButtons} />\n      <Switch>\n        <Route exact path=\"/aircraft\" component={List} />\n        <Route path=\"/aircraft/new\" component={Edit} />\n        <Route path=\"/aircraft/:id\" component={Edit} />\n      </Switch>\n      <Footer />\n    </React.Fragment>\n  );\n};\n\nexport default collect(AircraftRouter);\n","import React, { Component } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { store } from \"react-recollect\";\n\nimport initializeDatabase from \"./utils/initializeDatabase\";\n\nimport \"./App.css\";\nimport Home from \"./components/Home\";\nimport StudentRouter from \"./components/students/StudentRouter\";\nimport InstructorRouter from \"./components/instructors/InstructorRouter\";\nimport AircraftRouter from \"./components/aircraft/AircraftRouter\";\n\nclass App extends Component {\n  componentDidMount() {\n    initializeDatabase();\n  }\n  render() {\n    store.flash = store.flash || {};\n    store.headerButtons = [];\n    store.deleteConfirmation = false;\n    return (\n      <div className=\"App\">\n        <Route exact path=\"/\" component={Home} />\n        <Route path=\"/students\" component={StudentRouter} />\n        <Route path=\"/instructors\" component={InstructorRouter} />\n        <Route path=\"/aircraft\" component={AircraftRouter} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <BrowserRouter basename=\"/stp-logbook\">\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","const Joi = require(\"joi\");\n\nconst schema = Joi.object().keys({\n  _id: Joi.string()\n    .alphanum()\n    .required(),\n  _rev: Joi.string().required(),\n  type: Joi.string().required(),\n  name: Joi.string().required(),\n  email: Joi.string()\n    .email()\n    .required(),\n  phone: Joi.string()\n    .replace(/[^\\d]/g, \"\")\n    .length(10)\n    .required(),\n  instructor: Joi.string().required(),\n  previousJumps: Joi.number()\n    .integer()\n    .min(0)\n    .required(),\n  jumps: Joi.array().required()\n});\n\nconst validateStudent = student => {\n  const result = Joi.validate(student, schema, { abortEarly: false });\n  return result;\n};\n\nmodule.exports = validateStudent;\n","const Joi = require(\"joi\");\n\nconst schema = Joi.object().keys({\n  _id: Joi.string()\n    .alphanum()\n    .required(),\n  _rev: Joi.string(),\n  _deleted: Joi.boolean(),\n  type: Joi.string().required(),\n  studentId: Joi.string()\n    .alphanum()\n    .required(),\n  number: Joi.number()\n    .min(1)\n    .required(),\n  diveFlow: Joi.number()\n    .min(1)\n    .required(),\n  date: Joi.date()\n    .iso()\n    .required(),\n  instructor: Joi.string().required(),\n  aircraft: Joi.string().required(),\n  exitAltitude: Joi.number().required(),\n  deploymentAltitude: Joi.number().required(),\n  freefallTime: Joi.number().required(),\n  exit: Joi.string(),\n  freefall: Joi.string(),\n  canopy: Joi.string(),\n  notes: Joi.string()\n});\n\nconst validateJump = jump => {\n  try {\n    const result = Joi.validate(jump, schema, { abortEarly: false });\n    return result;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nmodule.exports = validateJump;\n","const Joi = require(\"joi\");\n\nconst schema = Joi.object().keys({\n  _id: Joi.string()\n    .alphanum()\n    .required(),\n  _rev: Joi.string(),\n  _deleted: Joi.boolean(),\n  type: Joi.string().required(),\n  name: Joi.string().required(),\n  email: Joi.string()\n    .email()\n    .required(),\n  phone: Joi.string()\n    .replace(/[^\\d]/g, \"\")\n    .length(10)\n    .required()\n});\n\nconst validateInstructor = instructor => {\n  const result = Joi.validate(instructor, schema, { abortEarly: false });\n  return result;\n};\n\nmodule.exports = validateInstructor;\n","const Joi = require(\"joi\");\n\nconst schema = Joi.object().keys({\n  _id: Joi.string()\n    .alphanum()\n    .required(),\n  _rev: Joi.string(),\n  _deleted: Joi.boolean(),\n  type: Joi.string().required(),\n  name: Joi.string().required(),\n  tailNumber: Joi.string().required()\n});\n\nconst validateAircraft = aircraft => {\n  const result = Joi.validate(aircraft, schema, { abortEarly: false });\n  return result;\n};\n\nmodule.exports = validateAircraft;\n","const handleFormError = errors => {\n  errors.map((error, i) => {\n    try {\n      let el = document.getElementById(error.context.key);\n      el.classList.add(\"error\");\n      return null;\n    } catch (e) {\n      console.error(e);\n      console.log(error.context.key);\n    }\n    return null;\n  });\n  const errorFields = document.querySelectorAll(\".formField.error\");\n  errorFields.item(0).focus();\n  return null;\n};\n\nmodule.exports = handleFormError;\n"],"sourceRoot":""}