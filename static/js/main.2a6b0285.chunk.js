(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1210:function(e,t,r){"use strict";r.r(t);t.default=[{id:"1stStudent",name:"Example Student",email:"email@example.com",phone:"123-456-7890",instructor:"David Rose",previousJumps:2,jumps:[{number:3,diveFlow:1,date:"2018-11-12T09:35:54.766-05:00",instructor:"David Rose",aircraft:"Caravan",exitAltitude:14e3,deploymentAltitude:5e3,freefallTime:50}]}]},1217:function(e,t,r){var n=r(36),a=n.object().keys({id:n.string().alphanum().required(),name:n.string().required(),email:n.string().email().required(),phone:n.string().replace(/[^\d]/g,"").length(10).required(),instructor:n.string().required(),previousJumps:n.number().integer().min(0).required(),jumps:n.array().required()});e.exports=function(e){return n.validate(e,a,{abortEarly:!1})}},1226:function(e,t){},1228:function(e,t){},1262:function(e,t){},1263:function(e,t){},132:function(e){e.exports={exit:["Ut recusandae est.","Vel expedita et aut repellendus dolorem laudantium quia et.","Ipsa eos nihil voluptas vitae molestias et porro et.","Laudantium beatae molestiae et est perferendis non aut.","Qui ut exercitationem et.","Quo perspiciatis quod molestiae aut id.","Quia id nobis omnis laboriosam quibusdam excepturi.","Minus a voluptatibus fugiat.","Non molestias illo quia id.","Consectetur consequuntur sit corporis sequi labore ut et.","Numquam qui molestias consequatur quas autem.","Minima voluptas minima recusandae officia commodi consequatur dignissimos fugiat est.","Inventore ducimus soluta quis perferendis ipsam repellendus quidem.","Itaque libero tempore sunt vero dolores occaecati voluptate recusandae.","Odit amet eius autem est.","Aut et voluptatem.","Quae reiciendis omnis qui dolores nesciunt sed.","Iure est sunt amet dolor dolores doloremque.","Et est quaerat.","Dolor harum libero natus rem sunt est consequatur dolores.","Accusamus maiores illum.","Et et qui vel dolore sequi in dolor ex enim.","Officiis fugit repellendus.","Ut cumque dolorum laboriosam dicta dolorem.","Est voluptas quos cum beatae molestiae velit et autem.","Labore fugiat qui ipsa doloremque molestiae dicta ea quibusdam reprehenderit."],freefall:["Quasi non dolore.","Hic ad sit velit voluptatem qui quo ut iure.","Aut ut facilis omnis rerum iste illo excepturi.","Occaecati cum in sequi consectetur distinctio sunt suscipit veritatis perferendis.","Dolor commodi animi mollitia voluptatem eos ut.","Repudiandae dolorem et saepe.","Nemo dolorem a vel qui rerum.","Non non ratione deleniti corrupti magni deserunt itaque illo.","Aliquid tenetur id harum.","Impedit qui vel qui ut minima qui reprehenderit quis dolor.","Tempore illum commodi alias ratione vero.","Harum fugit dolorem.","Distinctio dolorem occaecati magni doloremque omnis.","Quam sapiente nam.","Iste iusto consectetur fugiat explicabo.","Quam provident voluptatem non quos et corporis quos voluptates.","Id quaerat magni repellat.","Hic impedit perferendis repudiandae.","Culpa a sint quia assumenda nihil ipsa.","Dolor voluptas non temporibus id reiciendis temporibus qui ut.","Rerum et ut nihil.","Magnam repellat magni ea laudantium aut ullam.","Est possimus minus voluptatum.","Necessitatibus fugiat aperiam tempora.","Cupiditate alias illo ut.","Dicta maxime voluptas tenetur nobis ad."],canopy:["Voluptatem ut numquam ut modi aspernatur ut esse quos.","Incidunt sit magnam debitis omnis a.","Deleniti et repellat iure accusantium at at rerum rerum.","Veritatis et voluptates cupiditate totam distinctio iure deserunt vitae.","Vel aut qui porro adipisci consequatur deserunt architecto.","Eos et eos consequuntur sint error et fuga iusto.","Et quam rerum architecto quibusdam consectetur perspiciatis.","Dolore nulla autem sed impedit quam in repellat.","Dolore aut sint.","Error est enim.","Nisi quos et rerum nam dolor non aspernatur.","Illum ut eum quia.","Exercitationem qui iure beatae qui.","Aspernatur quia sunt est ut harum ad impedit voluptas deleniti.","Et fugit ipsa.","Natus qui eveniet saepe vitae voluptatem reiciendis perferendis.","Corporis aut sunt est culpa voluptates id.","Nihil eius dolor.","Maiores sit animi sint error earum rem dignissimos.","Eum et necessitatibus facere aut enim ea quasi.","Vitae similique eum est ea cum.","Eum qui dolor ut.","Quo similique dolorum quo eos qui occaecati sint soluta amet.","Non quis tenetur omnis iure placeat qui earum quod corporis.","Voluptate sequi cumque temporibus animi dignissimos iusto deserunt.","Sed rerum velit fuga ut qui quis quae at."]}},1338:function(e,t,r){var n=r(36),a=n.object().keys({number:n.number().min(1).required(),diveFlow:n.number().min(1).required(),date:n.date().iso().required(),instructor:n.string().required(),aircraft:n.string().required(),exitAltitude:n.number().required(),deploymentAltitude:n.number().required(),freefallTime:n.number().required(),exit:n.string(),freefall:n.string(),canopy:n.string(),notes:n.string()});e.exports=function(e){return n.validate(e,a,{abortEarly:!1})}},1339:function(e,t,r){"use strict";r.r(t);t.default=[{id:"exampleInstructor",name:"Example Instructor",email:"example@domain.com",phone:"123-456-7890"}]},1340:function(e,t,r){},1342:function(e,t,r){},1345:function(e,t,r){var n=r(36),a=n.object().keys({id:n.string().alphanum().required(),name:n.string().required(),email:n.string().email().required(),phone:n.string().replace(/[^\d]/g,"").length(10).required()});e.exports=function(e){return n.validate(e,a,{abortEarly:!1})}},1346:function(e,t,r){var n=r(36),a=n.object().keys({id:n.string().alphanum().required(),name:n.string().required(),tailNumber:n.string().alphanum().required()});e.exports=function(e){return n.validate(e,a,{abortEarly:!1})}},1347:function(e,t,r){"use strict";r.r(t);var n,a,o,u=r(0),i=r.n(u),c=r(125),l=r.n(c),s=r(1348),m=(r(142),r(126)),d=r(127),p=r(134),f=r(128),h=r(135),v=r(1350),E=r(1),b=(r(144),r(2)),g=r.n(b),y=r(3),w=r(9),k=(r(150),function(e){var t,r=e.type,n=e.message;return"object"===typeof n&&(t=i.a.createElement("ul",null,n.map(function(e,t){return i.a.createElement("li",{key:t},e.message)}))),i.a.createElement("div",{className:"flash ".concat(r)},t||n)}),N=function(e){return i.a.createElement("button",{id:e.id,onClick:e.onClick,className:"d"===e.id&&E.store.deleteConfirmation?"header-button pending":"header-button"},e.children)},q=function(e){var t=e.buttons,r=E.store.flash,n=r.type,a=r.message;return i.a.createElement("div",{className:"Header"},i.a.createElement("div",{className:"Nav"},t.map(function(e,t){var r=e.children;return i.a.createElement(N,Object.assign({key:t},e),r)})),i.a.createElement("div",{className:"Actions",style:{overflow:"scroll"}},i.a.createElement(k,{type:n,message:a})))},C=function(e){var t=e.buttons;return i.a.createElement("div",{className:"Footer"},i.a.createElement("div",{className:"Nav"},t))},x=(r(152),r(19)),j=r.n(x),S=r(129),O=r.n(S),F=r(29),I=r.n(F),A=function(){return Math.round(1e9*Math.random()).toString(16)},D=function(){var e=Object(y.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{id:A(),name:"Caravan-FL",tailNumber:"N123FL"},{id:A(),name:"Caravan-DZ",tailNumber:"N420DZ"},{id:A(),name:"Otter-BA",tailNumber:"N832BA"},{id:A(),name:"King Air-XZ",tailNumber:"N123XZ"}],e.abrupt("return",n);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(y.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Array.from(Array(5)).map(function(e){return{id:A(),name:"".concat(j.a.name.firstName()," ").concat(j.a.name.lastName()),email:j.a.internet.email(),phone:j.a.phone.phoneNumberFormat()}}),e.abrupt("return",a);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),J=function(e,t){return new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime()))},M=function(){var e={id:A(),name:"".concat(j.a.name.firstName()," ").concat(j.a.name.lastName()),email:j.a.internet.email(),phone:j.a.phone.phoneNumberFormat(),instructor:a[Math.round(Math.random()*(a.length-1))].name,previousJumps:Math.floor(3*Math.random())+2,jumps:[]};return e.jumps=function(e){var t=J(new Date(2018,0,1),new Date),r=J(t,new Date),o=O()(t,r),u=Math.round(18*Math.random()),i=o[0];return Array.from(Array(u)).map(function(t,o){var u=J(i,r);i=u;var c={number:e+o,diveFlow:o+1,date:I()(u),instructor:a[Math.round(Math.random()*(a.length-1))].name,aircraft:n[Math.round(Math.random()*(n.length-1))].name,exitAltitude:1e4+500*Math.round(10*Math.random()),deploymentAltitude:[3500,4e3,4500,5e3,5500,6e3][Math.round(6*Math.random())],exit:j.a.lorem.sentences(),freefall:j.a.lorem.sentences(),canopy:j.a.lorem.sentences(),notes:j.a.lorem.sentences()};return c.freefallTime=Math.ceil((c.exitAltitude-c.deploymentAltitude)/1e3*5.5),c})}(e.previousJumps),e},R=function(){var e=Object(y.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Array.from(Array(50)).map(function(e){return M()}),e.abrupt("return",o);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(y.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return n=e.sent,localStorage.setItem("stp-logbook:aircraft",JSON.stringify(n)),console.table(n),e.next=7,B();case 7:return a=e.sent,localStorage.setItem("stp-logbook:instructors",JSON.stringify(a)),console.table(a),e.next=12,R();case 12:return o=e.sent,localStorage.setItem("stp-logbook:students",JSON.stringify(o)),console.table(o),e.abrupt("return",{aircraft:n,instructors:a,students:o});case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();E.store.deleteConfirmation=!1,E.store.aircraftCount=localStorage.getItem("stp-logbook:aircraft")?JSON.parse(localStorage.getItem("stp-logbook:aircraft")).length:0,E.store.instructorCount=localStorage.getItem("stp-logbook:instructors")?JSON.parse(localStorage.getItem("stp-logbook:instructors")).length:0,E.store.studentCount=localStorage.getItem("stp-logbook:students")?JSON.parse(localStorage.getItem("stp-logbook:students")).length:0;var P=Object(E.collect)(function(e){var t=e.history,r=function(){var e=Object(y.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!E.store.deleteConfirmation){e.next=10;break}return e.next=3,T();case 3:return t=e.sent,console.log(t),E.store.aircraftCount=t.aircraft.length,E.store.instructorCount=t.instructors.length,E.store.studentCount=t.students.length,E.store.deleteConfirmation=!1,e.abrupt("return",null);case 10:E.store.deleteConfirmation=!0;case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return 0===E.store.headerButtons.length&&(E.store.headerButtons=[{id:"s",onClick:function(){return t.push("/students")},children:"Students"},{id:"i",onClick:function(){return t.push("/instructors")},children:"Instructors"},{id:"a",onClick:function(){return t.push("/aircraft")},children:"Aircraft"}]),i.a.createElement(i.a.Fragment,null,i.a.createElement(q,{buttons:E.store.headerButtons}),i.a.createElement(w.a,{keyName:"ctrl+s,ctrl+i,ctrl+a",onKeyDown:function(e,t,r){document.getElementById(e.match(/.$/)).click()}},i.a.createElement("div",{className:"Home Content"},i.a.createElement("section",null,i.a.createElement("h1",null,i.a.createElement("strong",null,i.a.createElement("code",null,"stp-logbook"))," ","is a work in progress."),i.a.createElement("p",null,i.a.createElement("strong",null,i.a.createElement("code",null,"stp-logbook"))," ","will help skydive instructors log their students' jumps in an efficient manner by providing clever shortcuts to typing common log entry phrases."),i.a.createElement("p",null,"With a quick glance, instructors can determine when students are approaching uncurrency, when their last jump was, which dive flow it was, and which instructor they were with."),i.a.createElement("p",null,i.a.createElement("strong",null,i.a.createElement("code",null,"stp-logbook"))," ",'is largely navigable via keyboard shortcuts. Buttons which are keyboard accessible have labels with the first letter highlighted. To "click" the button, type'," ",i.a.createElement("strong",null,i.a.createElement("code",null,"ctrl+[letter]")),"."),i.a.createElement("p",null,i.a.createElement("strong",null,i.a.createElement("code",null,"stp-logbook"))," ","is under active development since Tuesday, November 6th 2018, and it's still got a long way to go."),i.a.createElement("p",null,"Planned features include:",i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("strong",null,i.a.createElement("em",null,"Phrase Cloud"))," ","log entry text creation. Rather than typing, select common log entry phrases from a collection of common phrases."),i.a.createElement("li",null,i.a.createElement("strong",null,"Backend Integration")," will be needed for storing and editing of videos as well as syncronization of data between clients. Duh."),i.a.createElement("li",null,i.a.createElement("strong",null,i.a.createElement("em",null,"Drag and Drop Video"))," ","management. Drag your student's video directly from your SD card to the student's log entry."),i.a.createElement("li",null,i.a.createElement("strong",null,i.a.createElement("em",null,"Video Trimming"))," ","capability. Trim the video to remove unwanted plane and instructor canopy content."),i.a.createElement("li",null,i.a.createElement("strong",null,i.a.createElement("em",null,"Printer Friendly Output"))," ","so the student has a record of their jumps.")))),i.a.createElement("section",null,i.a.createElement("details",null,i.a.createElement("summary",null,"Fake Data For Testing"),i.a.createElement("div",{className:"warning"},i.a.createElement("h3",null,"Warning"),i.a.createElement("p",null,"Using this feature will ",i.a.createElement("strong",null,"COMPLETELY")," overwrite any data you have created. The data is stored locally in your browser, so it's not the end of the world if you fuck it up, though. Just sayin'. That said, feel free to create some fake data!")),i.a.createElement("table",null,i.a.createElement("caption",null,"Current Data"),i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Data Type"),i.a.createElement("th",null,"Count"))),i.a.createElement("tbody",null,i.a.createElement("tr",{onClick:function(){return t.push("/aircraft")}},i.a.createElement("td",null,"Aircraft"),i.a.createElement("td",null,E.store.aircraftCount)),i.a.createElement("tr",{onClick:function(){return t.push("/instructors")}},i.a.createElement("td",null,"Instructors"),i.a.createElement("td",null,E.store.instructorCount)),i.a.createElement("tr",{onClick:function(){return t.push("/students")}},i.a.createElement("td",null,"Students"),i.a.createElement("td",null,E.store.studentCount)))),0===E.store.studentCount?i.a.createElement("button",{className:E.store.deleteConfirmation?"confirm":null,onClick:r},"Create Test Data"):i.a.createElement("button",{className:E.store.deleteConfirmation?"confirm":null,onClick:function(){return console.log("handleCreateTestData()"),E.store.deleteConfirmation?(localStorage.clear(),E.store.aircraftCount=0,E.store.instructorCount=0,E.store.studentCount=0,E.store.deleteConfirmation=!1,null):(console.log("handleCreateTestData()"),E.store.deleteConfirmation=!0,null)}},"Delete Test Data"))))),i.a.createElement(C,null))}),L=r(1349),$=r(17),K=r(11),H=r.n(K),Z=r(130),Q=r.n(Z),V=r(1210),U=function(){var e=Object(y.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("stp-logbook:students"))||V.default,e.abrupt("return",t);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),Y=Object(E.collect)(function(e){e.match;var t=e.history,r=E.store.students,n=E.store.filteredStudents,a=E.store.filter;E.store.student=null,E.store.activeJumpRow=-1,0===r.length&&Object(y.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:(t=e.sent).sort(function(e,t){var r=Object($.a)(e.jumps).pop()||{date:new Date(1971,9,25)},n=Object($.a)(t.jumps).pop()||{date:new Date(1971,9,25)};return H()(n.date)-H()(r.date)}),E.store.students=t,E.store.filteredStudents=t;case 6:case"end":return e.stop()}},e,this)}))();var o=n.length;return o>0&&E.store.activeStudentRow===o&&(E.store.activeStudentRow=0),o>0&&-1===E.store.activeStudentRow&&(E.store.activeStudentRow=o-1),0===E.store.headerButtons.length&&(E.store.headerButtons=[{id:"h",onClick:function(){return t.push("/")},children:"Home"},{id:"a",onClick:function(){return t.push("/students/new")},children:"Add Student"}]),i.a.createElement(w.a,{keyName:"down,j,up,k,enter,right,ctrl+h,ctrl+a",onKeyDown:function(e,r,a){if("submit"===r.srcElement.type&&"enter"===e)return!0;if(void 0!==r.srcElement.type)return!1;switch(!0){case["down","j"].includes(e):E.store.activeStudentRow++;break;case["up","k"].includes(e):E.store.activeStudentRow--;break;case["enter","right"].includes(e):t.push("/students/".concat(n[E.store.activeStudentRow].id));break;default:document.getElementById(e.match(/.$/)).click()}}},i.a.createElement("div",{className:"Content"},i.a.createElement("div",null,i.a.createElement("strong",null,"Note: ")," This feature will be read-only except by authorized users in an upcoming release."),i.a.createElement("table",{id:"students"},i.a.createElement("caption",null,"Students"),i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null," ",i.a.createElement("input",{onChange:function(e){var t=e.target.value.toLowerCase();E.store.filteredStudents=E.store.students.filter(function(e){return e.name.toLowerCase().match(t)}),E.store.filter=e.target.value},value:a,placeholder:"Filter by name"})),i.a.createElement("th",null,"Email"),i.a.createElement("th",null,"Phone"),i.a.createElement("th",null,"Last Jump"),i.a.createElement("th",null,"Last DiveFlow"))),i.a.createElement("tbody",{tabIndex:0},n.map(function(e,r){var n=e.jumps[e.jumps.length-1],a=n?Q()(new Date,n.date):9999,o=n?"".concat(I()(n.date,"ddd MMM Do")):null,u=n?"DF ".concat(n.diveFlow," - ").concat(Object($.a)(n.instructor.match(/(\w+) ([A-Z])/)[0]).join(""),"."):null;return i.a.createElement("tr",{key:r,onClick:function(){return function(e){t.push("/students/".concat(e.id))}(e)},className:r===E.store.activeStudentRow?"active":""},i.a.createElement("td",null,e.name),i.a.createElement("td",null,e.email),i.a.createElement("td",null,e.phone),i.a.createElement("td",null,o,i.a.createElement("span",{className:"currency-color",style:{backgroundColor:"".concat(function(e){return e>30?"rgb(255, 0, 0)":e>21?"rgb(255, ".concat(192-Math.floor(64/7*(e-21)),", 0)"):e>14?"rgb(255, ".concat(255-Math.floor(64/7*(e-14)),", 0)"):"rgb(".concat(Math.floor(255/14*e),", 255, 0)")}(a))}})),i.a.createElement("td",null,u))})))))}),z=r(136),W=r(131),X=r.n(W),G=function(){var e=Object(y.a)(g.a.mark(function e(t){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U().then(function(e){return e.find(function(e){return e.id===t})}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),_=r(1217),ee=r(1338),te=function(){var e=Object(y.a)(g.a.mark(function e(t,r){var n,a,o;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=r?ee(r):_(t)).error){e.next=3;break}return e.abrupt("return",{error:n.error.details});case 3:return a=JSON.parse(localStorage.getItem("stp-logbook:students")),o=a?[t].concat(Object($.a)(a.filter(function(e){return e.id!==t.id}))):[t],localStorage.setItem("stp-logbook:students",JSON.stringify(o)),e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),re=r(1).store,ne=function(e){var t=Object.keys(e)[0],r=e[t];re.flash={type:t,message:r},setTimeout(function(){re.flash={type:"",message:""}},1e4)},ae=function(e){var t=e.jumps[e.jumps.length-1],r=t?Object(z.a)({},t):{number:Number(e.previousJumps),diveFlow:0,instructor:e.instructor},n=r.number,a=r.diveFlow,o=r.instructor;return{number:n+1,diveFlow:a+1,date:I()(new Date),instructor:o,aircraft:"",exitAltitude:14e3,deploymentAltitude:5e3,freefallTime:0}};E.store.activeJumpRow=-1;var oe=Object(E.collect)(function(e){var t=e.match,r=e.history,n=E.store.student;if(n&&n.id===t.params.studentId||Object(y.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t.params.studentId);case 2:return e.abrupt("return",E.store.student=e.sent);case 3:case"end":return e.stop()}},e,this)}))(),!n)return null;var a=n.jumps.length,o=function(){var e=Object(y.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=ae(n),n.jumps.push(t),E.store.activeJumpRow++,Object(y.a)(g.a.mark(function e(){var a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(n);case 2:if(!(a=e.sent).error){e.next=5;break}return e.abrupt("return",ne(a));case 5:ne({success:"Saved ".concat(n.name)}),r.push("/students/".concat(n.id,"/jump/").concat(t.number));case 7:case"end":return e.stop()}},e,this)}))();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return a>0&&E.store.activeJumpRow===a&&(E.store.activeJumpRow=0),a>0&&-1===E.store.activeJumpRow&&(E.store.activeJumpRow=a-1),0===E.store.headerButtons.length&&(E.store.headerButtons=[{id:"b",onClick:function(){return r.push("/students")},children:"Back"},{id:"a",onClick:o,children:"Add Jump"},{id:"e",onClick:function(){return r.push("/students/".concat(n.id,"/edit"))},children:"Edit Student"}]),i.a.createElement(w.a,{keyName:"down,j,up,k,enter,right,left,ctrl+l,ctrl+b,ctrl+a,ctrl+e",onKeyUp:function(e,t,a){if("submit"===t.srcElement.type&&"enter"===e)return t.srcElement.click();if(void 0!==t.srcElement.type)return!1;switch(!0){case["down","j"].includes(e):E.store.activeJumpRow++;break;case["up","k"].includes(e):E.store.activeJumpRow--,console.log(E.store.activeJumpRow);break;case["enter","right"].includes(e):r.push("/students/".concat(n.id,"/jump/").concat(n.jumps[E.store.activeJumpRow].number));break;case"left"===e:r.goBack(1);break;default:document.getElementById(e.match(/.$/)).click()}}},i.a.createElement("div",{className:"Content"},i.a.createElement("table",{tabIndex:0},i.a.createElement("caption",null,n.name),i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Jump #"),i.a.createElement("th",null,"Dive Flow"),i.a.createElement("th",null,"Date"),i.a.createElement("th",null,"Instructor"))),i.a.createElement("tbody",null,n.jumps.map(function(e,t){return i.a.createElement("tr",{key:t,onClick:function(){return r.push("/students/".concat(n.id,"/jump/").concat(e.number))},className:t===E.store.activeJumpRow?"active":""},i.a.createElement("td",null,e.number),i.a.createElement("td",null,e.diveFlow),i.a.createElement("td",null,I()(e.date,"MM/DD/YY")," (",X()(e.date),")"),i.a.createElement("td",null,e.instructor))})))))}),ue=r(1339),ie=function(){var e=Object(y.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("stp-logbook:instructors"))||ue.default,e.abrupt("return",t);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),ce=function(e){var t;switch(!0){case/^\d{4}/.test(e):t=e.replace(/^(\d{3})(\d{1})/,"$1-$2");break;case/^\d{3}-\d{4}/.test(e):t=e.replace(/^(\d{3}-\d{3})(\d{1})/,"$1-$2");break;default:t=e}return t},le=r(30),se=r.n(le),me=function(){for(var e=document.getElementsByClassName("formField error");e[0];)e[0].classList.remove("error")},de={id:Math.round(Math.random()*Math.pow(2,32)).toString(16),name:"",email:"",phone:"",instructor:"",previousJumps:2,jumps:[]},pe=Object(E.collect)(function(e){var t=e.match,r=e.history,n=E.store.student,a=E.store.instructors;n||"/students/new"!==t.path||(E.store.student=de),"/students/:studentId/edit"!==t.path||n&&n.id===t.params.studentId||Object(y.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t.params.studentId);case 2:return e.abrupt("return",E.store.student=e.sent);case 3:case"end":return e.stop()}},e,this)}))(),0===a.length&&Object(y.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:t=e.sent,E.store.instructors=t;case 4:case"end":return e.stop()}},e,this)}))();var o=function(e){var t=e.target,r=t.id,a=t.value;switch(r){case"phone":n[r]=ce(a);break;default:n[r]=a}},u=function(){var e=Object(y.a)(g.a.mark(function e(t){var a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t&&(document.querySelector("input[type='submit']").click(),t.preventDefault()),me(),e.next=4,te(n);case 4:if(!(a=e.sent).error){e.next=8;break}return ne({error:"Please check form for errors."}),e.abrupt("return",se()(a.error));case 8:ne({success:"Saved ".concat(n.name)}),r.push("/students/".concat(n.id));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();if(!n||0===a.length)return null;return 0===E.store.headerButtons.length&&(E.store.headerButtons=[{id:"l",onClick:function(){return r.push("/students")},children:"List Students"},{id:"b",onClick:function(){return r.goBack(1)},children:"Back"},{id:"s",onClick:u,children:"Save Student"}]),i.a.createElement(w.a,{keyName:"ctrl+l,ctrl+b,ctrl+s",onKeyDown:function(e,t,r){if("submit"===t.srcElement.type&&"enter"===e)return t.srcElement.children[0].click();document.getElementById(e.match(/.$/)).click()}},i.a.createElement("div",{className:"Content"},i.a.createElement("div",null,i.a.createElement("strong",null,"Note: ")," This feature will be read-only except by authorized users in an upcoming release."),i.a.createElement("form",{onSubmit:u},i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Editing"," ",n.name?n.name:"New Student (id:".concat(n.id,")")),i.a.createElement("div",{className:"input-group"},i.a.createElement("label",{htmlFor:"name"},"Name"),i.a.createElement("input",{id:"name",onChange:o,value:n.name,placeholder:"Full Name",className:"formField required",required:!0})),i.a.createElement("div",{className:"input-group"},i.a.createElement("label",{htmlFor:"email"},"Email"),i.a.createElement("input",{id:"email",onChange:o,value:n.email,type:"email",placeholder:"email@domain.com",className:"formField required",required:!0})),i.a.createElement("div",{className:"input-group"},i.a.createElement("label",{htmlFor:"phone"},"Phone"),i.a.createElement("input",{id:"phone",onChange:o,value:n.phone,type:"tel",placeholder:"123-456-7890",pattern:"\\d{3}-\\d{3}-\\d{4}",className:"formField required",required:!0})),i.a.createElement("div",{className:"input-group"},i.a.createElement("label",{htmlFor:"instructor"},"Instructor"),i.a.createElement("select",{id:"instructor",value:n.instructor,onChange:o,className:"formField required",required:!0},i.a.createElement("option",{value:""},"Select Instructor"),i.a.createElement(fe,{instructors:a}))),0===n.jumps.length?i.a.createElement("div",{className:"input-group"},i.a.createElement("label",{htmlFor:"previousJumps"},"Previous Jumps"),i.a.createElement("input",{type:"number",id:"previousJumps",onChange:o,value:n.previousJumps,className:"formField required",required:!0})):null),i.a.createElement("input",{type:"submit",style:{display:"none"}}))))}),fe=function(e){return e.instructors.map(function(e,t){return i.a.createElement("option",{key:t,value:e.name},e.name)})},he=(r(1340),r(1342),r(132)),ve=Object(E.collect)(function(e){var t,r=e.setAttribute,n=E.store.phraseCloudKey,a=function(e){e&&e.stopPropagation&&e.stopPropagation();var t=e.target.attributes["data-key"].value,n=document.querySelector("ul#source"),a=document.querySelector("ul#target"),o=document.querySelector('li[data-key="'.concat(t,'"]'));a.contains(o)?(a.removeChild(o),n.appendChild(o),Object($.a)(n.children).sort(function(e,t){return e.attributes["data-key"].value>t.attributes["data-key"].value?1:-1}).map(function(e){return n.appendChild(e)})):a.appendChild(o);var u=Array.from(a.childNodes).map(function(e){return e.innerHTML}).join(" ");r({target:{id:E.store.phraseCloudKey,value:u}})},o=function(e){e&&e.stopPropagation(),document.querySelector("#PhraseCloud").classList.toggle("hidden")};return i.a.createElement(w.a,{onKeyUp:function(e,t,r){if(document.querySelector("#PhraseCloud").classList.contains("hidden"))return null;switch(!0){case"ctrl+enter"===e:o();break;default:a({target:{attributes:{"data-key":{value:e}}}})}},keyName:Array.from(Array(26)).map(function(e,t){return String.fromCharCode(t+97)}).join(",")+",ctrl+enter"},i.a.createElement("div",{id:"PhraseCloud",className:"hidden",onClick:o},i.a.createElement("div",{className:"inner"},i.a.createElement("h2",null,(t=n).charAt(0).toUpperCase()+t.slice(1)," Phrases"),i.a.createElement("ul",{id:"target"}),i.a.createElement("ul",{id:"source"},he[n].map(function(e,t){return i.a.createElement("li",{key:t,"data-key":"".concat(String.fromCharCode(t+97)),onClick:a},e)})))))}),Ee=[{id:"N1234Z",name:"Otter 34Z",tailNumber:"N1234Z"}],be=function(){var e=Object(y.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("stp-logbook:aircraft"))||Ee,e.abrupt("return",t);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();E.store.phraseCloudKey="exit",E.store.phraseCloudSelections={exit:[],freefall:[],canopy:[]};var ge=Object(E.collect)(function(e){var t=e.match,r=e.history,n=E.store.student,a=E.store.instructors,o=E.store.aircraft,u=null;if(n?u=n.jumps.find(function(e){return e.number===Number(t.params.jumpNumber)}):Object(y.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t.params.studentId);case 2:E.store.student=e.sent;case 3:case"end":return e.stop()}},e,this)}))(),0===a.length&&Object(y.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:t=e.sent,E.store.instructors=t;case 4:case"end":return e.stop()}},e,this)}))(),0===o.length&&Object(y.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be();case 2:t=e.sent,E.store.aircraft=t;case 4:case"end":return e.stop()}},e,this)}))(),!n||!u||0===a.length||0===o.length)return null;var c=function(e){var t=e.target,r=t.id,n=t.value;["diveFlow","jumpNumber","exitAltitude","deploymentAltitude","freefallTime"].includes(r)&&(n=Number(n)),u[r]=n,u.freefallTime=Math.ceil((u.exitAltitude-u.deploymentAltitude)/1e3*5.5)},l=function(e){if(e.key&&"enter"!==e.key.toLowerCase())return!0;var t=e.target.attributes.for.value.replace(/-hidden$/,"");return E.store.phraseCloudKey=t,document.querySelector("#PhraseCloud").classList.toggle("hidden"),!0},s=function(){var e=Object(y.a)(g.a.mark(function e(t){var r,a,o;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t&&(document.querySelector("input[type='submit']").click(),t.preventDefault()),me(),r=n.jumps.filter(function(e){return e.number!==u.number}),a=[u].concat(Object($.a)(r)).sort(function(e,t){return e.number>t.number?1:-1}),n.jumps=a,e.next=7,te(n,u);case 7:if(!(o=e.sent).error){e.next=11;break}return ne({error:"Please check form for errors."}),e.abrupt("return",se()(o.error));case 11:E.store.student=o,ne({success:"Saved ".concat(n.name)});case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(y.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.jumps=n.jumps.filter(function(e){return e.number!==u.number}),Object(y.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(n);case 2:if(!(t=e.sent).error){e.next=6;break}return ne({error:"Please check form for errors."}),e.abrupt("return",se()(t.error));case 6:ne({success:"Saved ".concat(n.name)}),r.push("/students/".concat(n.id));case 8:case"end":return e.stop()}},e,this)}))();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return 0===E.store.headerButtons.length&&(E.store.headerButtons=[{id:"b",onClick:function(){return r.push("/students/".concat(n.id))},children:"Back"},{id:"s",onClick:s,children:"Save Jump"},{id:"d",onClick:function(){if(E.store.deleteConfirmation)return m();E.store.deleteConfirmation=!0},deleteConfirmation:E.store.deleteConfirmation,children:"Delete Jump"}]),i.a.createElement(i.a.Fragment,null,i.a.createElement(w.a,{keyName:"ctrl+l,ctrl+b,ctrl+s,ctrl+d,esc",onKeyUp:function(e,t,r){switch(t.stopPropagation(),!0){case"ctrl+d"===e:var n=document.getElementById("d");n.focus(),n.click();break;case"esc"===e:document.querySelector("#PhraseCloud").classList.add("hidden");break;default:document.getElementById(e.match(/.$/)).click()}return!1}},i.a.createElement("div",{id:"Jump",className:"Content"},i.a.createElement("div",null,i.a.createElement("strong",null,"Note: ")," This feature will be read-only except by authorized users in an upcoming release."),i.a.createElement("form",{onSubmit:s},i.a.createElement("fieldset",null,i.a.createElement("legend",null,"".concat(n.name," Dive Flow ").concat(u.diveFlow)),i.a.createElement("fieldset",{className:"inner"},i.a.createElement("legend",null,"Jump Details"),i.a.createElement("div",{className:"jump-details"},i.a.createElement("div",null,i.a.createElement("div",{className:"input-group"},i.a.createElement("label",{htmlFor:"diveFlow"},"Dive Flow"),i.a.createElement("input",{type:"number",id:"diveFlow",value:u.diveFlow,onChange:c,className:"formField required",required:!0})),i.a.createElement("div",{className:"input-group"},i.a.createElement("label",{htmlFor:"number"},"Jump Number"),i.a.createElement("input",{type:"number",id:"number",value:u.number,className:"formField required",required:!0,disabled:!0})),i.a.createElement("div",{className:"input-group"},i.a.createElement("label",{htmlFor:"date"},"Date"),i.a.createElement("input",{type:"date",id:"date",value:I()(u.date,"YYYY-MM-DD"),onChange:c,className:"formField required",required:!0})),i.a.createElement("div",{className:"input-group"},i.a.createElement("label",{htmlFor:"instructor"},"Instructor"),i.a.createElement("select",{id:"instructor",value:u.instructor,onChange:c,className:"formField required",required:!0},i.a.createElement(ye,{instructors:a,instructor:u.instructor})))),i.a.createElement("div",null,i.a.createElement("div",{className:"input-group"},i.a.createElement("label",{htmlFor:"aircraft"},"Aircraft"),i.a.createElement("select",{value:u.aircraft,id:"aircraft",onChange:c,className:"formField required",required:!0},i.a.createElement("option",{value:""}),i.a.createElement(we,{aircraft:o,selectedAircraft:u.aircraft}))),i.a.createElement("div",{className:"input-group"},i.a.createElement("label",{htmlFor:"exitAltitude"},"Exit Altitude"),i.a.createElement("select",{value:u.exitAltitude,id:"exitAltitude",onChange:c,className:"formField required",required:!0},i.a.createElement(ke,null))),i.a.createElement("div",{className:"input-group"},i.a.createElement("label",{htmlFor:"deploymentAltitude"},"Pull Altitude"),i.a.createElement("select",{value:u.deploymentAltitude,id:"deploymentAltitude",onChange:c,className:"formField required",required:!0},i.a.createElement(Ne,null))),i.a.createElement("div",{className:"input-group"},i.a.createElement("label",{htmlFor:"freefallTime"},"Freefall Time"),i.a.createElement("input",{id:"freefallTime",value:"".concat(u.freefallTime," seconds"),onChange:c,className:"formField required",required:!0,disabled:!0}))))),i.a.createElement("fieldset",{className:"inner"},i.a.createElement("legend",null,"Freefall / Canopy"),i.a.createElement("div",{className:"input-group"},i.a.createElement("label",{onClick:l,onKeyDown:l,tabIndex:0,htmlFor:"exit"},"Exit"),i.a.createElement("textarea",{id:"exit",value:u.exit,onChange:c,className:"formField required",required:!0})),i.a.createElement("div",{className:"input-group"},i.a.createElement("label",{onClick:l,onKeyDown:l,tabIndex:0,htmlFor:"freefall"},"Freefall"),i.a.createElement("textarea",{id:"freefall",value:u.freefall,onChange:c,className:"formField required",required:!0})),i.a.createElement("div",{className:"input-group"},i.a.createElement("label",{onClick:l,onKeyDown:l,tabIndex:0,htmlFor:"canopy"},"Canopy"),i.a.createElement("textarea",{id:"canopy",value:u.canopy,onChange:c,className:"formField required",required:!0})),i.a.createElement("div",{className:"input-group"},i.a.createElement("label",{htmlFor:"notes"},"Notes"),i.a.createElement("textarea",{id:"notes",value:u.notes,onChange:c,className:"formField"}))),i.a.createElement("input",{type:"submit",style:{display:"none"},tabIndex:-1}))))),i.a.createElement(ve,{setAttribute:c}))}),ye=function(e){var t=e.instructors,r=e.instructor;return t.map(function(e){return e.name}).indexOf(r)<0&&t.push({name:r}),t.map(function(e,t){return i.a.createElement("option",{key:t,value:e.name},e.name)})},we=function(e){var t=e.aircraft,r=e.selectedAircraft;return t.map(function(e){return e.name}).indexOf(r)<0&&t.push({name:r}),t.map(function(e,t){return i.a.createElement("option",{key:t,value:e.name},e.name)})},ke=function(){for(var e=[],t=5e3;t<=17e3;t+=500)e.push(t);return e.reverse().map(function(e){return i.a.createElement("option",{key:e,value:e},e.toString().replace(/(\d{3}$)/,",$1"))})},Ne=function(){for(var e=[],t=3e3;t<=17e3;t+=500)e.push(t);return e.reverse().map(function(e){return i.a.createElement("option",{key:e,value:e},e.toString().replace(/(\d{3}$)/,",$1"))})};E.store.students=[],E.store.filteredStudents=[],E.store.student=null,E.store.instructors=[],E.store.aircraft=[],E.store.activeStudentRow=0;var qe=Object(E.collect)(function(e){var t=E.store.headerButtons;return i.a.createElement(i.a.Fragment,null,i.a.createElement(q,{buttons:t}),i.a.createElement(L.a,null,i.a.createElement(v.a,{exact:!0,path:"/students",component:Y}),i.a.createElement(v.a,{path:"/students/:studentId/jump/:jumpNumber",component:ge}),i.a.createElement(v.a,{path:"/students/:studentId/edit",component:pe}),i.a.createElement(v.a,{path:"/students/new",component:pe}),i.a.createElement(v.a,{path:"/students/:studentId",component:oe})),i.a.createElement(C,null))});E.store.filter="",E.store.activeRow=0;var Ce=Object(E.collect)(function(e){var t=e.history,r=E.store.instructors;0===r.length&&Object(y.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:t=e.sent,E.store.instructors=t;case 4:case"end":return e.stop()}},e,this)}))();var n=r.length;return n>0&&E.store.activeRow===n&&(E.store.activeRow=0),n>0&&-1===E.store.activeRow&&(E.store.activeRow=n-1),0===E.store.headerButtons.length&&(E.store.headerButtons=[{id:"h",onClick:function(){return t.push("/")},children:"Home"},{id:"n",onClick:function(){t.push("/instructors/new")},children:"New Instructor"}]),i.a.createElement(w.a,{keyName:"down,j,up,k,enter,right,ctrl+h,ctrl+n",onKeyDown:function(e,n,a){if("submit"===n.srcElement.type&&"enter"===e)return!0;if(void 0!==n.srcElement.type)return!1;switch(!0){case["down","j"].includes(e):E.store.activeRow++;break;case["up","k"].includes(e):E.store.activeRow--;break;case["enter","right"].includes(e):t.push("/instructors/".concat(r[E.store.activeRow].id));break;default:document.getElementById(e.match(/.$/)).click()}}},i.a.createElement("div",{className:"Content"},i.a.createElement("div",null,i.a.createElement("strong",null,"Note: ")," This feature will require authorization in an upcoming release."),i.a.createElement("table",{id:"instructors"},i.a.createElement("caption",null,"Instructors"),i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Name"),i.a.createElement("th",null,"Email"),i.a.createElement("th",null,"Phone"))),i.a.createElement("tbody",null,r.map(function(e,r){return i.a.createElement("tr",{key:r,className:r===E.store.activeRow?"active":"",onClick:function(){return function(e){t.push("/instructors/".concat(e.id))}(e)}},i.a.createElement("td",null,e.name),i.a.createElement("td",null,e.email),i.a.createElement("td",null,e.phone))})))))}),xe=function(){var e=Object(y.a)(g.a.mark(function e(t){var r,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:return r=e.sent,n=r.find(function(e){return e.id===t}),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),je=r(1345),Se=function(){var e=Object(y.a)(g.a.mark(function e(t){var r,n,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=je(t)).error){e.next=3;break}return e.abrupt("return",{error:r.error.details});case 3:return n=JSON.parse(localStorage.getItem("stp-logbook:instructors")),a=n?[t].concat(Object($.a)(n.filter(function(e){return e.id!==t.id}))):[t],localStorage.setItem("stp-logbook:instructors",JSON.stringify(a)),e.abrupt("return",{});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),Oe={id:Math.round(Math.random()*Math.pow(2,32)).toString(16),name:"",email:"",phone:""};E.store.instructor=null;var Fe=Object(E.collect)(function(e){var t=e.match,r=e.history,n=E.store.instructor;if(n||"/instructors/new"!==t.path||(E.store.instructor=Oe),"/instructors/:id"!==t.path||n&&n.id===t.params.id||Object(y.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(t.params.id);case 2:return e.abrupt("return",E.store.instructor=e.sent);case 3:case"end":return e.stop()}},e,this)}))(),!n)return!1;var a=function(){var e=Object(y.a)(g.a.mark(function e(t){var r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t&&(document.querySelector("input[type='submit']").click(),t.preventDefault()),me(),e.next=4,Se(n);case 4:if(!(r=e.sent).error){e.next=8;break}return ne({error:"Please check form for errors."}),e.abrupt("return",se()(r.error));case 8:ne({success:"Saved ".concat(n.name)}),document.location.pathname="/instructors";case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(y.a)(g.a.mark(function e(){var t,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:t=e.sent,a=t.filter(function(e){return e.id!==n.id}),localStorage.setItem("stp-logbook:instructors",JSON.stringify(a)),ne({success:"Deleted ".concat(n.name)}),r.push("/instructors");case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),u=function(e){var t=e.target,r=t.id,a=t.value;switch(r){case"phone":n[r]=ce(a);break;default:n[r]=a}};return 0===E.store.headerButtons.length&&(E.store.headerButtons=[{id:"b",onClick:function(){return r.goBack(1)},children:"Back"},{id:"s",onClick:a,children:"Save Instructor"}]),t.params.id&&!E.store.headerButtons.find(function(e){return"d"===e.id})&&E.store.headerButtons.push({id:"d",onClick:function(){if(E.store.deleteConfirmation)return o();document.getElementById("d").focus(),E.store.deleteConfirmation=!0},children:"Delete Instructor"}),i.a.createElement(w.a,{keyName:"ctrl+b,ctrl+s,ctrl+d",onKeyDown:function(e,t,r){if("submit"===t.srcElement.type&&"enter"===e)return t.srcElement.children[0].click();document.getElementById(e.match(/.$/)).click()}},i.a.createElement("div",{className:"Content"},i.a.createElement("form",{onSubmit:a},i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Editing"," ",n.name?n.name:"New Instructor (id:".concat(n.id,")")),i.a.createElement("div",{className:"input-group"},i.a.createElement("label",{htmlFor:"name"},"Name"),i.a.createElement("input",{id:"name",onChange:u,value:n.name,placeholder:"Full Name",className:"formField required",required:!0})),i.a.createElement("div",{className:"input-group"},i.a.createElement("label",{htmlFor:"email"},"Email"),i.a.createElement("input",{id:"email",onChange:u,value:n.email,type:"email",placeholder:"email@domain.com",className:"formField required",required:!0})),i.a.createElement("div",{className:"input-group"},i.a.createElement("label",{htmlFor:"phone"},"Phone"),i.a.createElement("input",{id:"phone",onChange:u,value:n.phone,type:"tel",placeholder:"123-456-7890",pattern:"\\d{3}-\\d{3}-\\d{4}",className:"formField required",required:!0}))),i.a.createElement("input",{type:"submit",style:{display:"none"}}))))}),Ie=Object(E.collect)(function(e){var t=E.store.headerButtons;return i.a.createElement(i.a.Fragment,null,i.a.createElement(q,{buttons:t}),i.a.createElement(L.a,null,i.a.createElement(v.a,{exact:!0,path:"/instructors",component:Ce}),i.a.createElement(v.a,{path:"/instructors/new",component:Fe}),i.a.createElement(v.a,{path:"/instructors/:id",component:Fe})),i.a.createElement(C,null))});E.store.activeAircraftRow=0;var Ae=Object(E.collect)(function(e){var t=e.history,r=E.store.aircraft;0===r.length&&Object(y.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be();case 2:t=e.sent,E.store.aircraft=t;case 4:case"end":return e.stop()}},e,this)}))();var n=r.length;return n>0&&E.store.activeAircraftRow===n&&(E.store.activeAircraftRow=0),n>0&&-1===E.store.activeAircraftRow&&(E.store.activeAircraftRow=n-1),0===E.store.headerButtons.length&&(E.store.headerButtons=[{id:"h",onClick:function(){return t.push("/")},children:"Home"},{id:"n",onClick:function(){t.push("/aircraft/new")},children:"New aircraft"}]),i.a.createElement(w.a,{keyName:"down,j,up,k,enter,right,ctrl+h,ctrl+n",onKeyDown:function(e,n,a){if("submit"===n.srcElement.type&&"enter"===e)return!0;if(void 0!==n.srcElement.type)return!1;switch(!0){case["down","j"].includes(e):E.store.activeAircraftRow++;break;case["up","k"].includes(e):E.store.activeAircraftRow--;break;case["enter","right"].includes(e):t.push("/aircraft/".concat(r[E.store.activeAircraftRow].id));break;default:document.getElementById(e.match(/.$/)).click()}}},i.a.createElement("div",{className:"Content"},i.a.createElement("div",null,i.a.createElement("strong",null,"Note: ")," This feature will require authorization in an upcoming release."),i.a.createElement("table",{id:"aircraft"},i.a.createElement("caption",null,"Aircraft"),i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Name"),i.a.createElement("th",null,"Tail #"))),i.a.createElement("tbody",null,r.map(function(e,r){return i.a.createElement("tr",{key:r,className:r===E.store.activeAircraftRow?"active":"",onClick:function(){return function(e){t.push("/aircraft/".concat(e.id))}(e)}},i.a.createElement("td",null,e.name),i.a.createElement("td",null,e.tailNumber))})))))}),De=function(){var e=Object(y.a)(g.a.mark(function e(t){var r,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be();case 2:return r=e.sent,n=r.find(function(e){return e.id===t}),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),Be=r(1346),Je=function(){var e=Object(y.a)(g.a.mark(function e(t){var r,n,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=Be(t)).error){e.next=3;break}return e.abrupt("return",{error:r.error.details});case 3:return n=JSON.parse(localStorage.getItem("stp-logbook:aircraft")),a=n?[t].concat(Object($.a)(n.filter(function(e){return e.id!==t.id}))):[t],localStorage.setItem("stp-logbook:aircraft",JSON.stringify(a)),e.abrupt("return",{});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),Me={id:Math.round(Math.random()*Math.pow(2,32)).toString(16),name:"",tailNumber:""};E.store.currentAircraft=null;var Re=Object(E.collect)(function(e){var t=e.match,r=e.history,n=E.store.currentAircraft;if(n||"/aircraft/new"!==t.path||(E.store.currentAircraft=Me),"/aircraft/:id"!==t.path||n&&n.id===t.params.id||Object(y.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(t.params.id);case 2:return e.abrupt("return",E.store.currentAircraft=e.sent);case 3:case"end":return e.stop()}},e,this)}))(),!n)return!1;var a=function(){var e=Object(y.a)(g.a.mark(function e(t){var r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t&&(document.querySelector("input[type='submit']").click(),t.preventDefault()),me(),e.next=4,Je(n);case 4:if(!(r=e.sent).error){e.next=8;break}return ne({error:"Please check form for errors."}),e.abrupt("return",se()(r.error));case 8:ne({success:"Saved ".concat(n.name)}),document.location.pathname="/aircraft";case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(y.a)(g.a.mark(function e(){var t,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be();case 2:t=e.sent,a=t.filter(function(e){return e.id!==n.id}),localStorage.setItem("stp-logbook:aircraft",JSON.stringify(a)),ne({success:"Deleted ".concat(n.name)}),r.push("/aircraft");case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),u=function(e){var t=e.target,r=t.id,a=t.value;n[r]=a};return 0===E.store.headerButtons.length&&(E.store.headerButtons=[{id:"b",onClick:function(){return r.goBack(1)},children:"Back"},{id:"s",onClick:a,children:"Save Aircraft"}]),t.params.id&&!E.store.headerButtons.find(function(e){return"d"===e.id})&&E.store.headerButtons.push({id:"d",onClick:function(){if(E.store.deleteConfirmation)return o();document.getElementById("d").focus(),E.store.deleteConfirmation=!0},children:"Delete Aircraft"}),i.a.createElement(w.a,{keyName:"ctrl+b,ctrl+s,ctrl+d",onKeyDown:function(e,t,r){if("submit"===t.srcElement.type&&"enter"===e)return t.srcElement.children[0].click();document.getElementById(e.match(/.$/)).click()}},i.a.createElement("div",{className:"Content"},i.a.createElement("form",{onSubmit:a},i.a.createElement("fieldset",null,i.a.createElement("legend",null,"Editing"," ",n.name?n.name:"New Aircraft (id:".concat(n.id,")")),i.a.createElement("div",{className:"input-group"},i.a.createElement("label",{htmlFor:"name"},"Name"),i.a.createElement("input",{id:"name",onChange:u,value:n.name,placeholder:"Full Name",className:"formField required",required:!0})),i.a.createElement("div",{className:"input-group"},i.a.createElement("label",{htmlFor:"email"},"Tail Number"),i.a.createElement("input",{id:"tailNumber",onChange:u,value:n.tailNumber,placeholder:"N 1234Z",className:"formField required",required:!0}))),i.a.createElement("input",{type:"submit",style:{display:"none"}}))))}),Te=Object(E.collect)(function(e){var t=E.store.headerButtons;return i.a.createElement(i.a.Fragment,null,i.a.createElement(q,{buttons:t}),i.a.createElement(L.a,null,i.a.createElement(v.a,{exact:!0,path:"/aircraft",component:Ae}),i.a.createElement(v.a,{path:"/aircraft/new",component:Re}),i.a.createElement(v.a,{path:"/aircraft/:id",component:Re})),i.a.createElement(C,null))}),Pe=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return E.store.flash=E.store.flash||{},E.store.headerButtons=[],E.store.deleteConfirmation=!1,i.a.createElement("div",{className:"App"},i.a.createElement(v.a,{exact:!0,path:"/",component:P}),i.a.createElement(v.a,{path:"/students",component:qe}),i.a.createElement(v.a,{path:"/instructors",component:Ie}),i.a.createElement(v.a,{path:"/aircraft",component:Te}))}}]),t}(u.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(s.a,{basename:"/stp-logbook"},i.a.createElement(Pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},137:function(e,t,r){e.exports=r(1347)},142:function(e,t,r){},144:function(e,t,r){},150:function(e,t,r){},152:function(e,t,r){},30:function(e,t){e.exports=function(e){return e.map(function(e,t){return document.getElementById(e.context.key).classList.add("error"),null}),document.querySelectorAll(".formField.error").item(0).focus(),!1}}},[[137,2,1]]]);
//# sourceMappingURL=main.2a6b0285.chunk.js.map